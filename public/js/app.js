(function(be){typeof define=="function"&&define.amd?define(be):be()})(function(){"use strict";var be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Le={exports:{}};(function(h,b){(function(j,n){h.exports=n()})(be,function(){return j={770:function(S,k,y){var E=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(k,"__esModule",{value:!0}),k.setDefaultDebugCall=k.createOnigScanner=k.createOnigString=k.loadWASM=k.OnigScanner=k.OnigString=void 0;const N=E(y(418));let r=null,d=!1;class L{constructor(u){const p=u.length,o=L._utf8ByteLength(u),c=o!==p,e=c?new Uint32Array(p+1):null;c&&(e[p]=o);const t=c?new Uint32Array(o+1):null;c&&(t[o]=p);const s=new Uint8Array(o);let _=0;for(let v=0;v<p;v++){const P=u.charCodeAt(v);let A=P,I=!1;if(P>=55296&&P<=56319&&v+1<p){const q=u.charCodeAt(v+1);q>=56320&&q<=57343&&(A=65536+(P-55296<<10)|q-56320,I=!0)}c&&(e[v]=_,I&&(e[v+1]=_),A<=127?t[_+0]=v:A<=2047?(t[_+0]=v,t[_+1]=v):A<=65535?(t[_+0]=v,t[_+1]=v,t[_+2]=v):(t[_+0]=v,t[_+1]=v,t[_+2]=v,t[_+3]=v)),A<=127?s[_++]=A:A<=2047?(s[_++]=192|(1984&A)>>>6,s[_++]=128|(63&A)>>>0):A<=65535?(s[_++]=224|(61440&A)>>>12,s[_++]=128|(4032&A)>>>6,s[_++]=128|(63&A)>>>0):(s[_++]=240|(1835008&A)>>>18,s[_++]=128|(258048&A)>>>12,s[_++]=128|(4032&A)>>>6,s[_++]=128|(63&A)>>>0),I&&v++}this.utf16Length=p,this.utf8Length=o,this.utf16Value=u,this.utf8Value=s,this.utf16OffsetToUtf8=e,this.utf8OffsetToUtf16=t}static _utf8ByteLength(u){let p=0;for(let o=0,c=u.length;o<c;o++){const e=u.charCodeAt(o);let t=e,s=!1;if(e>=55296&&e<=56319&&o+1<c){const _=u.charCodeAt(o+1);_>=56320&&_<=57343&&(t=65536+(e-55296<<10)|_-56320,s=!0)}p+=t<=127?1:t<=2047?2:t<=65535?3:4,s&&o++}return p}createString(u){const p=u._omalloc(this.utf8Length);return u.HEAPU8.set(this.utf8Value,p),p}}class w{constructor(u){if(this.id=++w.LAST_ID,!r)throw new Error("Must invoke loadWASM first.");this._onigBinding=r,this.content=u;const p=new L(u);this.utf16Length=p.utf16Length,this.utf8Length=p.utf8Length,this.utf16OffsetToUtf8=p.utf16OffsetToUtf8,this.utf8OffsetToUtf16=p.utf8OffsetToUtf16,this.utf8Length<1e4&&!w._sharedPtrInUse?(w._sharedPtr||(w._sharedPtr=r._omalloc(1e4)),w._sharedPtrInUse=!0,r.HEAPU8.set(p.utf8Value,w._sharedPtr),this.ptr=w._sharedPtr):this.ptr=p.createString(r)}convertUtf8OffsetToUtf16(u){return this.utf8OffsetToUtf16?u<0?0:u>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[u]:u}convertUtf16OffsetToUtf8(u){return this.utf16OffsetToUtf8?u<0?0:u>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[u]:u}dispose(){this.ptr===w._sharedPtr?w._sharedPtrInUse=!1:this._onigBinding._ofree(this.ptr)}}k.OnigString=w,w.LAST_ID=0,w._sharedPtr=0,w._sharedPtrInUse=!1;class i{constructor(u){if(!r)throw new Error("Must invoke loadWASM first.");const p=[],o=[];for(let s=0,_=u.length;s<_;s++){const v=new L(u[s]);p[s]=v.createString(r),o[s]=v.utf8Length}const c=r._omalloc(4*u.length);r.HEAPU32.set(p,c/4);const e=r._omalloc(4*u.length);r.HEAPU32.set(o,e/4);const t=r._createOnigScanner(c,e,u.length);for(let s=0,_=u.length;s<_;s++)r._ofree(p[s]);r._ofree(e),r._ofree(c),t===0&&function(s){throw new Error(s.UTF8ToString(s._getLastOnigError()))}(r),this._onigBinding=r,this._ptr=t}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(u,p,o){let c=d,e=0;if(typeof o=="number"?(8&o&&(c=!0),e=o):typeof o=="boolean"&&(c=o),typeof u=="string"){u=new w(u);const t=this._findNextMatchSync(u,p,c,e);return u.dispose(),t}return this._findNextMatchSync(u,p,c,e)}_findNextMatchSync(u,p,o,c){const e=this._onigBinding;let t;if(t=o?e._findNextOnigScannerMatchDbg(this._ptr,u.id,u.ptr,u.utf8Length,u.convertUtf16OffsetToUtf8(p),c):e._findNextOnigScannerMatch(this._ptr,u.id,u.ptr,u.utf8Length,u.convertUtf16OffsetToUtf8(p),c),t===0)return null;const s=e.HEAPU32;let _=t/4;const v=s[_++],P=s[_++];let A=[];for(let I=0;I<P;I++){const q=u.convertUtf8OffsetToUtf16(s[_++]),H=u.convertUtf8OffsetToUtf16(s[_++]);A[I]={start:q,end:H,length:H-q}}return{index:v,captureIndices:A}}}k.OnigScanner=i;let T=!1,g=null;k.loadWASM=function(l){if(T)return g;let u,p,o,c;if(T=!0,function(e){return typeof e.instantiator=="function"}(l))u=l.instantiator,p=l.print;else{let e;(function(t){return t.data!==void 0})(l)?(e=l.data,p=l.print):e=l,u=function(t){return typeof Response<"u"&&t instanceof Response}(e)?typeof WebAssembly.instantiateStreaming=="function"?function(t){return s=>WebAssembly.instantiateStreaming(t,s)}(e):function(t){return async s=>{const _=await t.arrayBuffer();return WebAssembly.instantiate(_,s)}}(e):function(t){return s=>WebAssembly.instantiate(t,s)}(e)}return g=new Promise((e,t)=>{o=e,c=t}),function(e,t,s,_){N.default({print:t,instantiateWasm:(v,P)=>{if(typeof performance>"u"){const A=()=>Date.now();v.env.emscripten_get_now=A,v.wasi_snapshot_preview1.emscripten_get_now=A}return e(v).then(A=>P(A.instance),_),{}}}).then(v=>{r=v,s()})}(u,p,o,c),g},k.createOnigString=function(l){return new w(l)},k.createOnigScanner=function(l){return new i(l)},k.setDefaultDebugCall=function(l){d=l}},418:S=>{var k=(typeof document<"u"&&document.currentScript&&document.currentScript.src,function(y){var E,N,r=(y=y||{})!==void 0?y:{};r.ready=new Promise(function(O,W){E=O,N=W});var d,L={};for(d in r)r.hasOwnProperty(d)&&(L[d]=r[d]);var w,i=!1,T="";function g(O){return r.locateFile?r.locateFile(O,T):T+O}w=function(O){var W;return typeof readbuffer=="function"?new Uint8Array(readbuffer(O)):(e(typeof(W=read(O,"binary"))=="object"),W)},typeof scriptArgs<"u"&&scriptArgs,typeof onig_print<"u"&&(typeof console>"u"&&(console={}),console.log=onig_print,console.warn=console.error=typeof printErr<"u"?printErr:onig_print);var l=r.print||console.log.bind(console),u=r.printErr||console.warn.bind(console);for(d in L)L.hasOwnProperty(d)&&(r[d]=L[d]);L=null,r.arguments&&r.arguments,r.thisProgram&&r.thisProgram,r.quit&&r.quit;var p,o;r.wasmBinary&&(p=r.wasmBinary),r.noExitRuntime,typeof WebAssembly!="object"&&U("no native wasm support detected");var c=!1;function e(O,W){O||U("Assertion failed: "+W)}var t,s,_,v=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function P(O,W,ne){for(var fe=W+ne,ee=W;O[ee]&&!(ee>=fe);)++ee;if(ee-W>16&&O.subarray&&v)return v.decode(O.subarray(W,ee));for(var oe="";W<ee;){var ce=O[W++];if(128&ce){var ye=63&O[W++];if((224&ce)!=192){var ve=63&O[W++];if((ce=(240&ce)==224?(15&ce)<<12|ye<<6|ve:(7&ce)<<18|ye<<12|ve<<6|63&O[W++])<65536)oe+=String.fromCharCode(ce);else{var Fe=ce-65536;oe+=String.fromCharCode(55296|Fe>>10,56320|1023&Fe)}}else oe+=String.fromCharCode((31&ce)<<6|ye)}else oe+=String.fromCharCode(ce)}return oe}function A(O,W){return O?P(s,O,W):""}function I(O,W){return O%W>0&&(O+=W-O%W),O}function q(O){t=O,r.HEAP8=new Int8Array(O),r.HEAP16=new Int16Array(O),r.HEAP32=_=new Int32Array(O),r.HEAPU8=s=new Uint8Array(O),r.HEAPU16=new Uint16Array(O),r.HEAPU32=new Uint32Array(O),r.HEAPF32=new Float32Array(O),r.HEAPF64=new Float64Array(O)}typeof TextDecoder<"u"&&new TextDecoder("utf-16le"),r.INITIAL_MEMORY;var H,K=[],Z=[],he=[],f=[];function a(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)M(r.preRun.shift());Y(K)}function m(){Y(Z)}function x(){Y(he)}function C(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)F(r.postRun.shift());Y(f)}function M(O){K.unshift(O)}function F(O){f.unshift(O)}Z.push({func:function(){We()}});var G=0,B=null;function D(O){G++,r.monitorRunDependencies&&r.monitorRunDependencies(G)}function z(O){if(G--,r.monitorRunDependencies&&r.monitorRunDependencies(G),G==0&&B){var W=B;B=null,W()}}function U(O){r.onAbort&&r.onAbort(O),u(O+=""),c=!0,O="abort("+O+"). Build with -s ASSERTIONS=1 for more info.";var W=new WebAssembly.RuntimeError(O);throw N(W),W}function R(O,W){return String.prototype.startsWith?O.startsWith(W):O.indexOf(W)===0}r.preloadedImages={},r.preloadedAudios={};var $="data:application/octet-stream;base64,";function V(O){return R(O,$)}var X,Q="onig.wasm";function re(O){try{if(O==Q&&p)return new Uint8Array(p);if(w)return w(O);throw"both async and sync fetching of the wasm failed"}catch(W){U(W)}}function te(){return p||!i||typeof fetch!="function"?Promise.resolve().then(function(){return re(Q)}):fetch(Q,{credentials:"same-origin"}).then(function(O){if(!O.ok)throw"failed to load wasm binary file at '"+Q+"'";return O.arrayBuffer()}).catch(function(){return re(Q)})}function se(){var O={env:Be,wasi_snapshot_preview1:Be};function W(ee,oe){var ce=ee.exports;r.asm=ce,q((o=r.asm.memory).buffer),H=r.asm.__indirect_function_table,z()}function ne(ee){W(ee.instance)}function fe(ee){return te().then(function(oe){return WebAssembly.instantiate(oe,O)}).then(ee,function(oe){u("failed to asynchronously prepare wasm: "+oe),U(oe)})}if(D(),r.instantiateWasm)try{return r.instantiateWasm(O,W)}catch(ee){return u("Module.instantiateWasm callback failed with error: "+ee),!1}return(p||typeof WebAssembly.instantiateStreaming!="function"||V(Q)||typeof fetch!="function"?fe(ne):fetch(Q,{credentials:"same-origin"}).then(function(ee){return WebAssembly.instantiateStreaming(ee,O).then(ne,function(oe){return u("wasm streaming compile failed: "+oe),u("falling back to ArrayBuffer instantiation"),fe(ne)})})).catch(N),{}}function Y(O){for(;O.length>0;){var W=O.shift();if(typeof W!="function"){var ne=W.func;typeof ne=="number"?W.arg===void 0?H.get(ne)():H.get(ne)(W.arg):ne(W.arg===void 0?null:W.arg)}else W(r)}}function ie(O,W,ne){s.copyWithin(O,W,W+ne)}function J(){return s.length}function le(O){try{return o.grow(O-t.byteLength+65535>>>16),q(o.buffer),1}catch{}}function ae(O){var W=J(),ne=2147483648;if(O>ne)return!1;for(var fe=1;fe<=4;fe*=2){var ee=W*(1+.2/fe);if(ee=Math.min(ee,O+100663296),le(Math.min(ne,I(Math.max(O,ee),65536))))return!0}return!1}V(Q)||(Q=g(Q)),X=typeof dateNow<"u"?dateNow:function(){return performance.now()};var pe={mappings:{},buffers:[null,[],[]],printChar:function(O,W){var ne=pe.buffers[O];W===0||W===10?((O===1?l:u)(P(ne,0)),ne.length=0):ne.push(W)},varargs:void 0,get:function(){return pe.varargs+=4,_[pe.varargs-4>>2]},getStr:function(O){return A(O)},get64:function(O,W){return O}};function we(O,W,ne,fe){for(var ee=0,oe=0;oe<ne;oe++){for(var ce=_[W+8*oe>>2],ye=_[W+(8*oe+4)>>2],ve=0;ve<ye;ve++)pe.printChar(O,s[ce+ve]);ee+=ye}return _[fe>>2]=ee,0}function _e(O){}var de,Be={emscripten_get_now:X,emscripten_memcpy_big:ie,emscripten_resize_heap:ae,fd_write:we,setTempRet0:_e},We=(se(),r.___wasm_call_ctors=function(){return(We=r.___wasm_call_ctors=r.asm.__wasm_call_ctors).apply(null,arguments)});function xe(O){function W(){de||(de=!0,r.calledRun=!0,c||(m(),x(),E(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),C()))}G>0||(a(),G>0||(r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),W()},1)):W()))}if(r.___errno_location=function(){return(r.___errno_location=r.asm.__errno_location).apply(null,arguments)},r._omalloc=function(){return(r._omalloc=r.asm.omalloc).apply(null,arguments)},r._ofree=function(){return(r._ofree=r.asm.ofree).apply(null,arguments)},r._getLastOnigError=function(){return(r._getLastOnigError=r.asm.getLastOnigError).apply(null,arguments)},r._createOnigScanner=function(){return(r._createOnigScanner=r.asm.createOnigScanner).apply(null,arguments)},r._freeOnigScanner=function(){return(r._freeOnigScanner=r.asm.freeOnigScanner).apply(null,arguments)},r._findNextOnigScannerMatch=function(){return(r._findNextOnigScannerMatch=r.asm.findNextOnigScannerMatch).apply(null,arguments)},r._findNextOnigScannerMatchDbg=function(){return(r._findNextOnigScannerMatchDbg=r.asm.findNextOnigScannerMatchDbg).apply(null,arguments)},r.stackSave=function(){return(r.stackSave=r.asm.stackSave).apply(null,arguments)},r.stackRestore=function(){return(r.stackRestore=r.asm.stackRestore).apply(null,arguments)},r.stackAlloc=function(){return(r.stackAlloc=r.asm.stackAlloc).apply(null,arguments)},r.dynCall_jiji=function(){return(r.dynCall_jiji=r.asm.dynCall_jiji).apply(null,arguments)},r.UTF8ToString=A,B=function O(){de||xe(),de||(B=O)},r.run=xe,r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return xe(),y.ready});S.exports=k}},n={},function S(k){var y=n[k];if(y!==void 0)return y.exports;var E=n[k]={exports:{}};return j[k].call(E.exports,E,E.exports,S),E.exports}(770);var j,n})})(Le);var Ce={exports:{}};(function(h,b){(function(j,n){h.exports=n()})(be,function(){return function(j){var n={};function S(k){if(n[k])return n[k].exports;var y=n[k]={i:k,l:!1,exports:{}};return j[k].call(y.exports,y,y.exports,S),y.l=!0,y.exports}return S.m=j,S.c=n,S.d=function(k,y,E){S.o(k,y)||Object.defineProperty(k,y,{enumerable:!0,get:E})},S.r=function(k){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(k,"__esModule",{value:!0})},S.t=function(k,y){if(1&y&&(k=S(k)),8&y||4&y&&typeof k=="object"&&k&&k.__esModule)return k;var E=Object.create(null);if(S.r(E),Object.defineProperty(E,"default",{enumerable:!0,value:k}),2&y&&typeof k!="string")for(var N in k)S.d(E,N,function(r){return k[r]}.bind(null,N));return E},S.n=function(k){var y=k&&k.__esModule?function(){return k.default}:function(){return k};return S.d(y,"a",y),y},S.o=function(k,y){return Object.prototype.hasOwnProperty.call(k,y)},S.p="",S(S.s=3)}([function(j,n,S){Object.defineProperty(n,"__esModule",{value:!0});var k=S(1),y=S(5),E=S(6),N=S(2),r=typeof performance>"u"?function(){return Date.now()}:function(){return performance.now()};n.createGrammar=function(f,a,m,x,C,M){return new e(f,a,m,x,C,M)};var d=function(f){this.scopeName=f};n.FullScopeDependency=d;var L=function(){function f(a,m){this.scopeName=a,this.include=m}return f.prototype.toKey=function(){return this.scopeName+"#"+this.include},f}();n.PartialScopeDependency=L;var w=function(){function f(){this.full=[],this.partial=[],this.visitedRule=new Set,this._seenFull=new Set,this._seenPartial=new Set}return f.prototype.add=function(a){a instanceof d?this._seenFull.has(a.scopeName)||(this._seenFull.add(a.scopeName),this.full.push(a)):this._seenPartial.has(a.toKey())||(this._seenPartial.add(a.toKey()),this.partial.push(a))},f}();function i(f,a,m,x,C){for(var M=0,F=x;M<F.length;M++){var G=F[M];if(!f.visitedRule.has(G)){f.visitedRule.add(G);var B=G.repository?k.mergeObjects({},C,G.repository):C;Array.isArray(G.patterns)&&i(f,a,m,G.patterns,B);var D=G.include;if(D)if(D==="$base"||D===a.scopeName)g(f,a,a);else if(D==="$self"||D===m.scopeName)g(f,a,m);else if(D.charAt(0)==="#")T(f,a,m,D.substring(1),B);else{var z=D.indexOf("#");if(z>=0){var U=D.substring(0,z),R=D.substring(z+1);U===a.scopeName?T(f,a,a,R,B):U===m.scopeName?T(f,a,m,R,B):f.add(new L(U,D.substring(z+1)))}else f.add(new d(D))}}}}function T(f,a,m,x,C){C===void 0&&(C=m.repository),C&&C[x]&&i(f,a,m,[C[x]],C)}function g(f,a,m){if(m.patterns&&Array.isArray(m.patterns)&&i(f,a,m,m.patterns,m.repository),m.injections){var x=[];for(var C in m.injections)x.push(m.injections[C]);i(f,a,m,x,m.repository)}}function l(f,a){if(!f)return!1;if(f===a)return!0;var m=a.length;return f.length>m&&f.substr(0,m)===a&&f[m]==="."}function u(f,a){if(a.length<f.length)return!1;var m=0;return f.every(function(x){for(var C=m;C<a.length;C++)if(l(a[C],x))return m=C+1,!0;return!1})}function p(f,a,m,x,C){for(var M=E.createMatchers(a,u),F=y.RuleFactory.getCompiledRuleId(m,x,C.repository),G=0,B=M;G<B.length;G++){var D=B[G];f.push({matcher:D.matcher,ruleId:F,grammar:C,priority:D.priority})}}n.ScopeDependencyCollector=w,n.collectSpecificDependencies=T,n.collectDependencies=g;var o=function(f,a,m,x){this.scopeName=f,this.languageId=a,this.tokenType=m,this.themeData=x};n.ScopeMetadata=o;var c=function(){function f(a,m,x){if(this._initialLanguage=a,this._themeProvider=m,this._cache=new Map,this._defaultMetaData=new o("",this._initialLanguage,0,[this._themeProvider.getDefaults()]),this._embeddedLanguages=Object.create(null),x)for(var C=Object.keys(x),M=0,F=C.length;M<F;M++){var G=C[M],B=x[G];typeof B=="number"&&B!==0?this._embeddedLanguages[G]=B:console.warn("Invalid embedded language found at scope "+G+": <<"+B+">>")}var D=Object.keys(this._embeddedLanguages).map(function(z){return f._escapeRegExpCharacters(z)});D.length===0?this._embeddedLanguagesRegex=null:(D.sort(),D.reverse(),this._embeddedLanguagesRegex=new RegExp("^(("+D.join(")|(")+"))($|\\.)",""))}return f.prototype.onDidChangeTheme=function(){this._cache=new Map,this._defaultMetaData=new o("",this._initialLanguage,0,[this._themeProvider.getDefaults()])},f.prototype.getDefaultMetadata=function(){return this._defaultMetaData},f._escapeRegExpCharacters=function(a){return a.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},f.prototype.getMetadataForScope=function(a){if(a===null)return f._NULL_SCOPE_METADATA;var m=this._cache.get(a);return m||(m=this._doGetMetadataForScope(a),this._cache.set(a,m),m)},f.prototype._doGetMetadataForScope=function(a){var m=this._scopeToLanguage(a),x=this._toStandardTokenType(a),C=this._themeProvider.themeMatch(a);return new o(a,m,x,C)},f.prototype._scopeToLanguage=function(a){if(!a||!this._embeddedLanguagesRegex)return 0;var m=a.match(this._embeddedLanguagesRegex);if(!m)return 0;var x=this._embeddedLanguages[m[1]]||0;return x||0},f.prototype._toStandardTokenType=function(a){var m=a.match(f.STANDARD_TOKEN_TYPE_REGEXP);if(!m)return 0;switch(m[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"meta.embedded":return 8}throw new Error("Unexpected match for standard token type!")},f._NULL_SCOPE_METADATA=new o("",0,0,null),f.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/,f}(),e=function(){function f(a,m,x,C,M,F){if(this._scopeMetadataProvider=new c(m,M,x),this._onigLib=F,this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=M,this._grammar=s(a,null),this._injections=null,this._tokenTypeMatchers=[],C)for(var G=0,B=Object.keys(C);G<B.length;G++)for(var D=B[G],z=0,U=E.createMatchers(D,u);z<U.length;z++){var R=U[z];this._tokenTypeMatchers.push({matcher:R.matcher,type:C[D]})}}return f.prototype.dispose=function(){for(var a=0,m=this._ruleId2desc;a<m.length;a++){var x=m[a];x&&x.dispose()}},f.prototype.createOnigScanner=function(a){return this._onigLib.createOnigScanner(a)},f.prototype.createOnigString=function(a){return this._onigLib.createOnigString(a)},f.prototype.onDidChangeTheme=function(){this._scopeMetadataProvider.onDidChangeTheme()},f.prototype.getMetadataForScope=function(a){return this._scopeMetadataProvider.getMetadataForScope(a)},f.prototype.getInjections=function(){var a=this;if(this._injections===null){this._injections=[];var m=this._grammar.injections;if(m)for(var x in m)p(this._injections,x,m[x],this,this._grammar);if(this._grammarRepository){var C=this._grammarRepository.injections(this._grammar.scopeName);C&&C.forEach(function(M){var F=a.getExternalGrammar(M);if(F){var G=F.injectionSelector;G&&p(a._injections,G,F,a,F)}})}this._injections.sort(function(M,F){return M.priority-F.priority})}return this._injections},f.prototype.registerRule=function(a){var m=++this._lastRuleId,x=a(m);return this._ruleId2desc[m]=x,x},f.prototype.getRule=function(a){return this._ruleId2desc[a]},f.prototype.getExternalGrammar=function(a,m){if(this._includedGrammars[a])return this._includedGrammars[a];if(this._grammarRepository){var x=this._grammarRepository.lookup(a);if(x)return this._includedGrammars[a]=s(x,m&&m.$base),this._includedGrammars[a]}return null},f.prototype.tokenizeLine=function(a,m){var x=this._tokenize(a,m,!1);return{tokens:x.lineTokens.getResult(x.ruleStack,x.lineLength),ruleStack:x.ruleStack}},f.prototype.tokenizeLine2=function(a,m){var x=this._tokenize(a,m,!0);return{tokens:x.lineTokens.getBinaryResult(x.ruleStack,x.lineLength),ruleStack:x.ruleStack}},f.prototype._tokenize=function(a,m,x){var C;if(this._rootId===-1&&(this._rootId=y.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository)),m&&m!==H.NULL)C=!1,m.reset();else{C=!0;var M=this._scopeMetadataProvider.getDefaultMetadata(),F=M.themeData[0],G=I.set(0,M.languageId,M.tokenType,F.fontStyle,F.foreground,F.background),B=this.getRule(this._rootId).getName(null,null),D=this._scopeMetadataProvider.getMetadataForScope(B),z=q.mergeMetadata(G,null,D),U=new q(null,B===null?"unknown":B,z);m=new H(null,this._rootId,-1,-1,!1,null,U,U)}a+=`
`;var R=this.createOnigString(a),$=R.content.length,V=new Z(x,a,this._tokenTypeMatchers),X=A(this,R,C,0,m,V,!0);return t(R),{lineLength:$,lineTokens:V,ruleStack:X}},f}();function t(f){typeof f.dispose=="function"&&f.dispose()}function s(f,a){return(f=k.clone(f)).repository=f.repository||{},f.repository.$self={$vscodeTextmateLocation:f.$vscodeTextmateLocation,patterns:f.patterns,name:f.scopeName},f.repository.$base=a||f.repository.$self,f}function _(f,a,m,x,C,M,F){if(M.length!==0){for(var G=a.content,B=Math.min(M.length,F.length),D=[],z=F[0].end,U=0;U<B;U++){var R=M[U];if(R!==null){var $=F[U];if($.length!==0){if($.start>z)break;for(;D.length>0&&D[D.length-1].endPos<=$.start;)C.produceFromScopes(D[D.length-1].scopes,D[D.length-1].endPos),D.pop();if(D.length>0?C.produceFromScopes(D[D.length-1].scopes,$.start):C.produce(x,$.start),R.retokenizeCapturedWithRuleId){var V=R.getName(G,F),X=x.contentNameScopesList.push(f,V),Q=R.getContentName(G,F),re=X.push(f,Q),te=x.push(R.retokenizeCapturedWithRuleId,$.start,-1,!1,null,X,re),se=f.createOnigString(G.substring(0,$.end));A(f,se,m&&$.start===0,$.start,te,C,!1),t(se)}else{var Y=R.getName(G,F);if(Y!==null){var ie=(D.length>0?D[D.length-1].scopes:x.contentNameScopesList).push(f,Y);D.push(new K(ie,$.end))}}}}}for(;D.length>0;)C.produceFromScopes(D[D.length-1].scopes,D[D.length-1].endPos),D.pop()}}function v(f){for(var a=[],m=0,x=f.rules.length;m<x;m++)a.push("   - "+f.rules[m]+": "+f.debugRegExps[m]);return a.join(`
`)}function P(f,a,m,x,C,M){var F=function(U,R,$,V,X,Q){var re=X.getRule(U),te=re.compile(U,X.endRule,$,V===Q),se=0;N.DebugFlags.InDebugMode&&(se=r());var Y=te.scanner.findNextMatchSync(R,V);if(N.DebugFlags.InDebugMode){var ie=r()-se;ie>5&&console.warn("Rule "+re.debugName+" ("+re.id+") matching took "+ie+" against '"+R+"'"),Y&&console.log("matched rule id: "+te.rules[Y.index]+" from "+Y.captureIndices[0].start+" to "+Y.captureIndices[0].end)}return Y?{captureIndices:Y.captureIndices,matchedRuleId:te.rules[Y.index]}:null}(f,a,m,x,C,M),G=f.getInjections();if(G.length===0)return F;var B=function(U,R,$,V,X,Q,re){for(var te,se=Number.MAX_VALUE,Y=null,ie=0,J=Q.contentNameScopesList.generateScopes(),le=0,ae=U.length;le<ae;le++){var pe=U[le];if(pe.matcher(J)){var we=R.getRule(pe.ruleId).compile(R,null,V,X===re),_e=we.scanner.findNextMatchSync($,X);if(N.DebugFlags.InDebugMode&&(console.log("  scanning for injections"),console.log(v(we))),_e){var de=_e.captureIndices[0].start;if(!(de>=se)&&(se=de,Y=_e.captureIndices,te=we.rules[_e.index],ie=pe.priority,se===X))break}}}return Y?{priorityMatch:ie===-1,captureIndices:Y,matchedRuleId:te}:null}(G,f,a,m,x,C,M);if(!B)return F;if(!F)return B;var D=F.captureIndices[0].start,z=B.captureIndices[0].start;return z<D||B.priorityMatch&&z===D?B:F}function A(f,a,m,x,C,M,F){var G=a.content.length,B=!1,D=-1;if(F){var z=function(R,$,V,X,Q,re){for(var te=Q.beginRuleCapturedEOL?0:-1,se=[],Y=Q;Y;Y=Y.pop()){var ie=Y.getRule(R);ie instanceof y.BeginWhileRule&&se.push({rule:ie,stack:Y})}for(var J=se.pop();J;J=se.pop()){var le=J.rule.compileWhile(R,J.stack.endRule,V,te===X),ae=le.scanner.findNextMatchSync($,X);if(N.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(v(le))),!ae){N.DebugFlags.InDebugMode&&console.log("  popping "+J.rule.debugName+" - "+J.rule.debugWhileRegExp),Q=J.stack.pop();break}if(le.rules[ae.index]!==-2){Q=J.stack.pop();break}ae.captureIndices&&ae.captureIndices.length&&(re.produce(J.stack,ae.captureIndices[0].start),_(R,$,V,J.stack,re,J.rule.whileCaptures,ae.captureIndices),re.produce(J.stack,ae.captureIndices[0].end),te=ae.captureIndices[0].end,ae.captureIndices[0].end>X&&(X=ae.captureIndices[0].end,V=!1))}return{stack:Q,linePos:X,anchorPosition:te,isFirstLine:V}}(f,a,m,x,C,M);C=z.stack,x=z.linePos,m=z.isFirstLine,D=z.anchorPosition}for(;!B;)U();function U(){N.DebugFlags.InDebugMode&&(console.log(""),console.log("@@scanNext "+x+": |"+a.content.substr(x).replace(/\n$/,"\\n")+"|"));var R=P(f,a,m,x,C,D);if(!R)return N.DebugFlags.InDebugMode&&console.log("  no more matches."),M.produce(C,G),void(B=!0);var $=R.captureIndices,V=R.matchedRuleId,X=!!($&&$.length>0)&&$[0].end>x;if(V===-1){var Q=C.getRule(f);N.DebugFlags.InDebugMode&&console.log("  popping "+Q.debugName+" - "+Q.debugEndRegExp),M.produce(C,$[0].start),C=C.setContentNameScopesList(C.nameScopesList),_(f,a,m,C,M,Q.endCaptures,$),M.produce(C,$[0].end);var re=C;if(C=C.pop(),D=re.getAnchorPos(),!X&&re.getEnterPos()===x)return N.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),C=re,M.produce(C,G),void(B=!0)}else{var te=f.getRule(V);M.produce(C,$[0].start);var se=C,Y=te.getName(a.content,$),ie=C.contentNameScopesList.push(f,Y);if(C=C.push(V,x,D,$[0].end===G,null,ie,ie),te instanceof y.BeginEndRule){var J=te;N.DebugFlags.InDebugMode&&console.log("  pushing "+J.debugName+" - "+J.debugBeginRegExp),_(f,a,m,C,M,J.beginCaptures,$),M.produce(C,$[0].end),D=$[0].end;var le=J.getContentName(a.content,$),ae=ie.push(f,le);if(C=C.setContentNameScopesList(ae),J.endHasBackReferences&&(C=C.setEndRule(J.getEndWithResolvedBackReferences(a.content,$))),!X&&se.hasSameRuleAs(C))return N.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),C=C.pop(),M.produce(C,G),void(B=!0)}else if(te instanceof y.BeginWhileRule){if(J=te,N.DebugFlags.InDebugMode&&console.log("  pushing "+J.debugName),_(f,a,m,C,M,J.beginCaptures,$),M.produce(C,$[0].end),D=$[0].end,le=J.getContentName(a.content,$),ae=ie.push(f,le),C=C.setContentNameScopesList(ae),J.whileHasBackReferences&&(C=C.setEndRule(J.getWhileWithResolvedBackReferences(a.content,$))),!X&&se.hasSameRuleAs(C))return N.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),C=C.pop(),M.produce(C,G),void(B=!0)}else{var pe=te;if(N.DebugFlags.InDebugMode&&console.log("  matched "+pe.debugName+" - "+pe.debugMatchRegExp),_(f,a,m,C,M,pe.captures,$),M.produce(C,$[0].end),C=C.pop(),!X)return N.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),C=C.safePop(),M.produce(C,G),void(B=!0)}}$[0].end>x&&(x=$[0].end,m=!1)}return C}n.Grammar=e;var I=function(){function f(){}return f.toBinaryStr=function(a){for(var m=a.toString(2);m.length<32;)m="0"+m;return m},f.printMetadata=function(a){var m=f.getLanguageId(a),x=f.getTokenType(a),C=f.getFontStyle(a),M=f.getForeground(a),F=f.getBackground(a);console.log({languageId:m,tokenType:x,fontStyle:C,foreground:M,background:F})},f.getLanguageId=function(a){return(255&a)>>>0},f.getTokenType=function(a){return(1792&a)>>>8},f.getFontStyle=function(a){return(14336&a)>>>11},f.getForeground=function(a){return(8372224&a)>>>14},f.getBackground=function(a){return(4286578688&a)>>>23},f.set=function(a,m,x,C,M,F){var G=f.getLanguageId(a),B=f.getTokenType(a),D=f.getFontStyle(a),z=f.getForeground(a),U=f.getBackground(a);return m!==0&&(G=m),x!==0&&(B=x===8?0:x),C!==-1&&(D=C),M!==0&&(z=M),F!==0&&(U=F),(G<<0|B<<8|D<<11|z<<14|U<<23)>>>0},f}();n.StackElementMetadata=I;var q=function(){function f(a,m,x){this.parent=a,this.scope=m,this.metadata=x}return f._equals=function(a,m){for(;;){if(a===m||!a&&!m)return!0;if(!a||!m||a.scope!==m.scope||a.metadata!==m.metadata)return!1;a=a.parent,m=m.parent}},f.prototype.equals=function(a){return f._equals(this,a)},f._matchesScope=function(a,m,x){return m===a||a.substring(0,x.length)===x},f._matches=function(a,m){if(m===null)return!0;for(var x=m.length,C=0,M=m[C],F=M+".";a;){if(this._matchesScope(a.scope,M,F)){if(++C===x)return!0;F=(M=m[C])+"."}a=a.parent}return!1},f.mergeMetadata=function(a,m,x){if(x===null)return a;var C=-1,M=0,F=0;if(x.themeData!==null)for(var G=0,B=x.themeData.length;G<B;G++){var D=x.themeData[G];if(this._matches(m,D.parentScopes)){C=D.fontStyle,M=D.foreground,F=D.background;break}}return I.set(a,x.languageId,x.tokenType,C,M,F)},f._push=function(a,m,x){for(var C=0,M=x.length;C<M;C++){var F=x[C],G=m.getMetadataForScope(F),B=f.mergeMetadata(a.metadata,a,G);a=new f(a,F,B)}return a},f.prototype.push=function(a,m){return m===null?this:m.indexOf(" ")>=0?f._push(this,a,m.split(/ /g)):f._push(this,a,[m])},f._generateScopes=function(a){for(var m=[],x=0;a;)m[x++]=a.scope,a=a.parent;return m.reverse(),m},f.prototype.generateScopes=function(){return f._generateScopes(this)},f}();n.ScopeListElement=q;var H=function(){function f(a,m,x,C,M,F,G,B){this.parent=a,this.depth=this.parent?this.parent.depth+1:1,this.ruleId=m,this._enterPos=x,this._anchorPos=C,this.beginRuleCapturedEOL=M,this.endRule=F,this.nameScopesList=G,this.contentNameScopesList=B}return f._structuralEquals=function(a,m){for(;;){if(a===m||!a&&!m)return!0;if(!a||!m||a.depth!==m.depth||a.ruleId!==m.ruleId||a.endRule!==m.endRule)return!1;a=a.parent,m=m.parent}},f._equals=function(a,m){return a===m||!!this._structuralEquals(a,m)&&a.contentNameScopesList.equals(m.contentNameScopesList)},f.prototype.clone=function(){return this},f.prototype.equals=function(a){return a!==null&&f._equals(this,a)},f._reset=function(a){for(;a;)a._enterPos=-1,a._anchorPos=-1,a=a.parent},f.prototype.reset=function(){f._reset(this)},f.prototype.pop=function(){return this.parent},f.prototype.safePop=function(){return this.parent?this.parent:this},f.prototype.push=function(a,m,x,C,M,F,G){return new f(this,a,m,x,C,M,F,G)},f.prototype.getEnterPos=function(){return this._enterPos},f.prototype.getAnchorPos=function(){return this._anchorPos},f.prototype.getRule=function(a){return a.getRule(this.ruleId)},f.prototype._writeString=function(a,m){return this.parent&&(m=this.parent._writeString(a,m)),a[m++]="("+this.ruleId+", TODO-"+this.nameScopesList+", TODO-"+this.contentNameScopesList+")",m},f.prototype.toString=function(){var a=[];return this._writeString(a,0),"["+a.join(",")+"]"},f.prototype.setContentNameScopesList=function(a){return this.contentNameScopesList===a?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,a)},f.prototype.setEndRule=function(a){return this.endRule===a?this:new f(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,a,this.nameScopesList,this.contentNameScopesList)},f.prototype.hasSameRuleAs=function(a){return this.ruleId===a.ruleId},f.NULL=new f(null,0,0,0,!1,null,null,null),f}();n.StackElement=H;var K=function(f,a){this.scopes=f,this.endPos=a};n.LocalStackElement=K;var Z=function(){function f(a,m,x){this._emitBinaryTokens=a,this._tokenTypeOverrides=x,N.DebugFlags.InDebugMode?this._lineText=m:this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}return f.prototype.produce=function(a,m){this.produceFromScopes(a.contentNameScopesList,m)},f.prototype.produceFromScopes=function(a,m){if(!(this._lastTokenEndIndex>=m)){if(this._emitBinaryTokens){for(var x=a.metadata,C=0,M=this._tokenTypeOverrides;C<M.length;C++){var F=M[C];F.matcher(a.generateScopes())&&(x=I.set(x,0,he(F.type),-1,0,0))}return this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===x||(this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(x)),void(this._lastTokenEndIndex=m)}var G=a.generateScopes();if(N.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,m).replace(/\n$/,"\\n")+"|");for(var B=0;B<G.length;B++)console.log("      * "+G[B])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:m,scopes:G}),this._lastTokenEndIndex=m}},f.prototype.getResult=function(a,m){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===m-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(a,m),this._tokens[this._tokens.length-1].startIndex=0),this._tokens},f.prototype.getBinaryResult=function(a,m){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===m-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(a,m),this._binaryTokens[this._binaryTokens.length-2]=0);for(var x=new Uint32Array(this._binaryTokens.length),C=0,M=this._binaryTokens.length;C<M;C++)x[C]=this._binaryTokens[C];return x},f}();function he(f){switch(f){case 4:return 4;case 2:return 2;case 1:return 1;case 0:default:return 8}}},function(j,n,S){function k(N){return Array.isArray(N)?function(r){for(var d=[],L=0,w=r.length;L<w;L++)d[L]=k(r[L]);return d}(N):typeof N=="object"?function(r){var d={};for(var L in r)d[L]=k(r[L]);return d}(N):N}Object.defineProperty(n,"__esModule",{value:!0}),n.clone=function(N){return k(N)},n.mergeObjects=function(N){for(var r=[],d=1;d<arguments.length;d++)r[d-1]=arguments[d];return r.forEach(function(L){for(var w in L)N[w]=L[w]}),N},n.basename=function N(r){var d=~r.lastIndexOf("/")||~r.lastIndexOf("\\");return d===0?r:~d==r.length-1?N(r.substring(0,r.length-1)):r.substr(1+~d)};var y=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/,E=function(){function N(){}return N.hasCaptures=function(r){return r!==null&&y.test(r)},N.replaceCaptures=function(r,d,L){return r.replace(y,function(w,i,T,g){var l=L[parseInt(i||T,10)];if(!l)return w;for(var u=d.substring(l.start,l.end);u[0]===".";)u=u.substring(1);switch(g){case"downcase":return u.toLowerCase();case"upcase":return u.toUpperCase();default:return u}})},N}();n.RegexSource=E},function(j,n,S){(function(k){Object.defineProperty(n,"__esModule",{value:!0}),n.DebugFlags={InDebugMode:k!==void 0&&!!k.env.VSCODE_TEXTMATE_DEBUG}}).call(this,S(7))},function(j,n,S){var k=this&&this.__awaiter||function(w,i,T,g){return new(T||(T=Promise))(function(l,u){function p(e){try{c(g.next(e))}catch(t){u(t)}}function o(e){try{c(g.throw(e))}catch(t){u(t)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof T?t:new T(function(s){s(t)})).then(p,o)}c((g=g.apply(w,i||[])).next())})},y=this&&this.__generator||function(w,i){var T,g,l,u,p={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return u={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function o(c){return function(e){return function(t){if(T)throw new TypeError("Generator is already executing.");for(;p;)try{if(T=1,g&&(l=2&t[0]?g.return:t[0]?g.throw||((l=g.return)&&l.call(g),0):g.next)&&!(l=l.call(g,t[1])).done)return l;switch(g=0,l&&(t=[2&t[0],l.value]),t[0]){case 0:case 1:l=t;break;case 4:return p.label++,{value:t[1],done:!1};case 5:p.label++,g=t[1],t=[0];continue;case 7:t=p.ops.pop(),p.trys.pop();continue;default:if(l=p.trys,!((l=l.length>0&&l[l.length-1])||t[0]!==6&&t[0]!==2)){p=0;continue}if(t[0]===3&&(!l||t[1]>l[0]&&t[1]<l[3])){p.label=t[1];break}if(t[0]===6&&p.label<l[1]){p.label=l[1],l=t;break}if(l&&p.label<l[2]){p.label=l[2],p.ops.push(t);break}l[2]&&p.ops.pop(),p.trys.pop();continue}t=i.call(w,p)}catch(s){t=[6,s],g=0}finally{T=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([c,e])}}};Object.defineProperty(n,"__esModule",{value:!0});var E=S(4),N=S(8),r=S(11),d=S(0),L=function(){function w(i){this._options=i,this._syncRegistry=new E.SyncRegistry(r.Theme.createFromRawTheme(i.theme,i.colorMap),i.onigLib),this._ensureGrammarCache=new Map}return w.prototype.dispose=function(){this._syncRegistry.dispose()},w.prototype.setTheme=function(i,T){this._syncRegistry.setTheme(r.Theme.createFromRawTheme(i,T))},w.prototype.getColorMap=function(){return this._syncRegistry.getColorMap()},w.prototype.loadGrammarWithEmbeddedLanguages=function(i,T,g){return this.loadGrammarWithConfiguration(i,T,{embeddedLanguages:g})},w.prototype.loadGrammarWithConfiguration=function(i,T,g){return this._loadGrammar(i,T,g.embeddedLanguages,g.tokenTypes)},w.prototype.loadGrammar=function(i){return this._loadGrammar(i,0,null,null)},w.prototype._doLoadSingleGrammar=function(i){return k(this,void 0,void 0,function(){var T,g;return y(this,function(l){switch(l.label){case 0:return[4,this._options.loadGrammar(i)];case 1:return(T=l.sent())&&(g=typeof this._options.getInjections=="function"?this._options.getInjections(i):void 0,this._syncRegistry.addGrammar(T,g)),[2]}})})},w.prototype._loadSingleGrammar=function(i){return k(this,void 0,void 0,function(){return y(this,function(T){return this._ensureGrammarCache.has(i)||this._ensureGrammarCache.set(i,this._doLoadSingleGrammar(i)),[2,this._ensureGrammarCache.get(i)]})})},w.prototype._collectDependenciesForDep=function(i,T,g){var l=this._syncRegistry.lookup(g.scopeName);if(l){g instanceof d.FullScopeDependency?d.collectDependencies(T,this._syncRegistry.lookup(i),l):d.collectSpecificDependencies(T,this._syncRegistry.lookup(i),l,g.include);var u=this._syncRegistry.injections(g.scopeName);if(u)for(var p=0,o=u;p<o.length;p++){var c=o[p];T.add(new d.FullScopeDependency(c))}}else if(g.scopeName===i)throw new Error("No grammar provided for <"+i+">")},w.prototype._loadGrammar=function(i,T,g,l){return k(this,void 0,void 0,function(){var u,p,o,c,e,t,s,_,v,P,A,I,q=this;return y(this,function(H){switch(H.label){case 0:u=new Set,p=new Set,u.add(i),o=[new d.FullScopeDependency(i)],H.label=1;case 1:return o.length>0?(c=o,o=[],[4,Promise.all(c.map(function(K){return q._loadSingleGrammar(K.scopeName)}))]):[3,3];case 2:for(H.sent(),e=new d.ScopeDependencyCollector,t=0,s=c;t<s.length;t++)I=s[t],this._collectDependenciesForDep(i,e,I);for(_=0,v=e.full;_<v.length;_++)I=v[_],u.has(I.scopeName)||(u.add(I.scopeName),o.push(I));for(P=0,A=e.partial;P<A.length;P++)I=A[P],u.has(I.scopeName)||p.has(I.toKey())||(p.add(I.toKey()),o.push(I));return[3,1];case 3:return[2,this.grammarForScopeName(i,T,g,l)]}})})},w.prototype.addGrammar=function(i,T,g,l){return T===void 0&&(T=[]),g===void 0&&(g=0),l===void 0&&(l=null),k(this,void 0,void 0,function(){return y(this,function(u){switch(u.label){case 0:return this._syncRegistry.addGrammar(i,T),[4,this.grammarForScopeName(i.scopeName,g,l)];case 1:return[2,u.sent()]}})})},w.prototype.grammarForScopeName=function(i,T,g,l){return T===void 0&&(T=0),g===void 0&&(g=null),l===void 0&&(l=null),this._syncRegistry.grammarForScopeName(i,T,g,l)},w}();n.Registry=L,n.INITIAL=d.StackElement.NULL,n.parseRawGrammar=N.parseRawGrammar},function(j,n,S){var k=this&&this.__awaiter||function(r,d,L,w){return new(L||(L=Promise))(function(i,T){function g(p){try{u(w.next(p))}catch(o){T(o)}}function l(p){try{u(w.throw(p))}catch(o){T(o)}}function u(p){var o;p.done?i(p.value):(o=p.value,o instanceof L?o:new L(function(c){c(o)})).then(g,l)}u((w=w.apply(r,d||[])).next())})},y=this&&this.__generator||function(r,d){var L,w,i,T,g={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return T={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function l(u){return function(p){return function(o){if(L)throw new TypeError("Generator is already executing.");for(;g;)try{if(L=1,w&&(i=2&o[0]?w.return:o[0]?w.throw||((i=w.return)&&i.call(w),0):w.next)&&!(i=i.call(w,o[1])).done)return i;switch(w=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return g.label++,{value:o[1],done:!1};case 5:g.label++,w=o[1],o=[0];continue;case 7:o=g.ops.pop(),g.trys.pop();continue;default:if(i=g.trys,!((i=i.length>0&&i[i.length-1])||o[0]!==6&&o[0]!==2)){g=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){g.label=o[1];break}if(o[0]===6&&g.label<i[1]){g.label=i[1],i=o;break}if(i&&g.label<i[2]){g.label=i[2],g.ops.push(o);break}i[2]&&g.ops.pop(),g.trys.pop();continue}o=d.call(r,g)}catch(c){o=[6,c],w=0}finally{L=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([u,p])}}};Object.defineProperty(n,"__esModule",{value:!0});var E=S(0),N=function(){function r(d,L){this._theme=d,this._grammars={},this._rawGrammars={},this._injectionGrammars={},this._onigLibPromise=L}return r.prototype.dispose=function(){for(var d in this._grammars)this._grammars.hasOwnProperty(d)&&this._grammars[d].dispose()},r.prototype.setTheme=function(d){var L=this;this._theme=d,Object.keys(this._grammars).forEach(function(w){L._grammars[w].onDidChangeTheme()})},r.prototype.getColorMap=function(){return this._theme.getColorMap()},r.prototype.addGrammar=function(d,L){this._rawGrammars[d.scopeName]=d,L&&(this._injectionGrammars[d.scopeName]=L)},r.prototype.lookup=function(d){return this._rawGrammars[d]},r.prototype.injections=function(d){return this._injectionGrammars[d]},r.prototype.getDefaults=function(){return this._theme.getDefaults()},r.prototype.themeMatch=function(d){return this._theme.match(d)},r.prototype.grammarForScopeName=function(d,L,w,i){return k(this,void 0,void 0,function(){var T,g,l,u,p;return y(this,function(o){switch(o.label){case 0:return this._grammars[d]?[3,2]:(T=this._rawGrammars[d])?(g=this._grammars,l=d,u=E.createGrammar,p=[T,L,w,i,this],[4,this._onigLibPromise]):[2,null];case 1:g[l]=u.apply(void 0,p.concat([o.sent()])),o.label=2;case 2:return[2,this._grammars[d]]}})})},r}();n.SyncRegistry=N},function(j,n,S){var k,y=this&&this.__extends||(k=function(c,e){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var _ in s)s.hasOwnProperty(_)&&(t[_]=s[_])})(c,e)},function(c,e){function t(){this.constructor=c}k(c,e),c.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var E=S(1),N=/\\(\d+)/,r=/\\(\d+)/g,d=function(){function c(e,t,s){this.debugRegExps=t,this.rules=s,this.scanner=e.createOnigScanner(t)}return c.prototype.dispose=function(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()},c}();n.CompiledRule=d;var L=function(){function c(e,t,s,_){this.$location=e,this.id=t,this._name=s||null,this._nameIsCapturing=E.RegexSource.hasCaptures(this._name),this._contentName=_||null,this._contentNameIsCapturing=E.RegexSource.hasCaptures(this._contentName)}return Object.defineProperty(c.prototype,"debugName",{get:function(){var e=this.$location?E.basename(this.$location.filename)+":"+this.$location.line:"unknown";return this.constructor.name+"#"+this.id+" @ "+e},enumerable:!0,configurable:!0}),c.prototype.getName=function(e,t){return this._nameIsCapturing&&this._name!==null&&e!==null&&t!==null?E.RegexSource.replaceCaptures(this._name,e,t):this._name},c.prototype.getContentName=function(e,t){return this._contentNameIsCapturing&&this._contentName!==null?E.RegexSource.replaceCaptures(this._contentName,e,t):this._contentName},c}();n.Rule=L;var w=function(c){function e(t,s,_,v,P){var A=c.call(this,t,s,_,v)||this;return A.retokenizeCapturedWithRuleId=P,A}return y(e,c),e.prototype.dispose=function(){},e.prototype.collectPatternsRecursive=function(t,s,_){throw new Error("Not supported!")},e.prototype.compile=function(t,s,_,v){throw new Error("Not supported!")},e}(L);n.CaptureRule=w;var i=function(){function c(e,t,s){if(s===void 0&&(s=!0),s)if(e){for(var _=e.length,v=0,P=[],A=!1,I=0;I<_;I++)if(e.charAt(I)==="\\"&&I+1<_){var q=e.charAt(I+1);q==="z"?(P.push(e.substring(v,I)),P.push("$(?!\\n)(?<!\\n)"),v=I+2):q!=="A"&&q!=="G"||(A=!0),I++}this.hasAnchor=A,v===0?this.source=e:(P.push(e.substring(v,_)),this.source=P.join(""))}else this.hasAnchor=!1,this.source=e;else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=t,this.hasBackReferences=N.test(this.source)}return c.prototype.clone=function(){return new c(this.source,this.ruleId,!0)},c.prototype.setSource=function(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))},c.prototype.resolveBackReferences=function(e,t){var s=t.map(function(_){return e.substring(_.start,_.end)});return r.lastIndex=0,this.source.replace(r,function(_,v){return(s[parseInt(v,10)]||"").replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")})},c.prototype._buildAnchorCache=function(){var e,t,s,_,v=[],P=[],A=[],I=[];for(e=0,t=this.source.length;e<t;e++)s=this.source.charAt(e),v[e]=s,P[e]=s,A[e]=s,I[e]=s,s==="\\"&&e+1<t&&((_=this.source.charAt(e+1))==="A"?(v[e+1]="\uFFFF",P[e+1]="\uFFFF",A[e+1]="A",I[e+1]="A"):_==="G"?(v[e+1]="\uFFFF",P[e+1]="G",A[e+1]="\uFFFF",I[e+1]="G"):(v[e+1]=_,P[e+1]=_,A[e+1]=_,I[e+1]=_),e++);return{A0_G0:v.join(""),A0_G1:P.join(""),A1_G0:A.join(""),A1_G1:I.join("")}},c.prototype.resolveAnchors=function(e,t){return this.hasAnchor&&this._anchorCache?e?t?this._anchorCache.A1_G1:this._anchorCache.A1_G0:t?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source},c}();n.RegExpSource=i;var T=function(){function c(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}return c.prototype.dispose=function(){this._disposeCaches()},c.prototype._disposeCaches=function(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)},c.prototype.push=function(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor},c.prototype.unshift=function(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor},c.prototype.length=function(){return this._items.length},c.prototype.setSource=function(e,t){this._items[e].source!==t&&(this._disposeCaches(),this._items[e].setSource(t))},c.prototype.compile=function(e,t,s){if(this._hasAnchors)return t?s?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(e,t,s)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(e,t,s)),this._anchorCache.A1_G0):s?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(e,t,s)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(e,t,s)),this._anchorCache.A0_G0);if(!this._cached){var _=this._items.map(function(v){return v.source});this._cached=new d(e,_,this._items.map(function(v){return v.ruleId}))}return this._cached},c.prototype._resolveAnchors=function(e,t,s){var _=this._items.map(function(v){return v.resolveAnchors(t,s)});return new d(e,_,this._items.map(function(v){return v.ruleId}))},c}();n.RegExpSourceList=T;var g=function(c){function e(t,s,_,v,P){var A=c.call(this,t,s,_,null)||this;return A._match=new i(v,A.id),A.captures=P,A._cachedCompiledPatterns=null,A}return y(e,c),e.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},Object.defineProperty(e.prototype,"debugMatchRegExp",{get:function(){return""+this._match.source},enumerable:!0,configurable:!0}),e.prototype.collectPatternsRecursive=function(t,s,_){s.push(this._match)},e.prototype.compile=function(t,s,_,v){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new T,this.collectPatternsRecursive(t,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(t,_,v)},e}(L);n.MatchRule=g;var l=function(c){function e(t,s,_,v,P){var A=c.call(this,t,s,_,v)||this;return A.patterns=P.patterns,A.hasMissingPatterns=P.hasMissingPatterns,A._cachedCompiledPatterns=null,A}return y(e,c),e.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},e.prototype.collectPatternsRecursive=function(t,s,_){var v,P;for(v=0,P=this.patterns.length;v<P;v++)t.getRule(this.patterns[v]).collectPatternsRecursive(t,s,!1)},e.prototype.compile=function(t,s,_,v){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new T,this.collectPatternsRecursive(t,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(t,_,v)},e}(L);n.IncludeOnlyRule=l;var u=function(c){function e(t,s,_,v,P,A,I,q,H,K){var Z=c.call(this,t,s,_,v)||this;return Z._begin=new i(P,Z.id),Z.beginCaptures=A,Z._end=new i(I||"\uFFFF",-1),Z.endHasBackReferences=Z._end.hasBackReferences,Z.endCaptures=q,Z.applyEndPatternLast=H||!1,Z.patterns=K.patterns,Z.hasMissingPatterns=K.hasMissingPatterns,Z._cachedCompiledPatterns=null,Z}return y(e,c),e.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},Object.defineProperty(e.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"debugEndRegExp",{get:function(){return""+this._end.source},enumerable:!0,configurable:!0}),e.prototype.getEndWithResolvedBackReferences=function(t,s){return this._end.resolveBackReferences(t,s)},e.prototype.collectPatternsRecursive=function(t,s,_){if(_){var v,P=void 0;for(P=0,v=this.patterns.length;P<v;P++)t.getRule(this.patterns[P]).collectPatternsRecursive(t,s,!1)}else s.push(this._begin)},e.prototype.compile=function(t,s,_,v){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new T,this.collectPatternsRecursive(t,this._cachedCompiledPatterns,!0),this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)),this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,s):this._cachedCompiledPatterns.setSource(0,s)),this._cachedCompiledPatterns.compile(t,_,v)},e}(L);n.BeginEndRule=u;var p=function(c){function e(t,s,_,v,P,A,I,q,H){var K=c.call(this,t,s,_,v)||this;return K._begin=new i(P,K.id),K.beginCaptures=A,K.whileCaptures=q,K._while=new i(I,-2),K.whileHasBackReferences=K._while.hasBackReferences,K.patterns=H.patterns,K.hasMissingPatterns=H.hasMissingPatterns,K._cachedCompiledPatterns=null,K._cachedCompiledWhilePatterns=null,K}return y(e,c),e.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)},Object.defineProperty(e.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"debugWhileRegExp",{get:function(){return""+this._while.source},enumerable:!0,configurable:!0}),e.prototype.getWhileWithResolvedBackReferences=function(t,s){return this._while.resolveBackReferences(t,s)},e.prototype.collectPatternsRecursive=function(t,s,_){if(_){var v,P=void 0;for(P=0,v=this.patterns.length;P<v;P++)t.getRule(this.patterns[P]).collectPatternsRecursive(t,s,!1)}else s.push(this._begin)},e.prototype.compile=function(t,s,_,v){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new T,this.collectPatternsRecursive(t,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(t,_,v)},e.prototype.compileWhile=function(t,s,_,v){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new T,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,s||"\uFFFF"),this._cachedCompiledWhilePatterns.compile(t,_,v)},e}(L);n.BeginWhileRule=p;var o=function(){function c(){}return c.createCaptureRule=function(e,t,s,_,v){return e.registerRule(function(P){return new w(t,P,s,_,v)})},c.getCompiledRuleId=function(e,t,s){return e.id||t.registerRule(function(_){if(e.id=_,e.match)return new g(e.$vscodeTextmateLocation,e.id,e.name,e.match,c._compileCaptures(e.captures,t,s));if(e.begin===void 0){e.repository&&(s=E.mergeObjects({},s,e.repository));var v=e.patterns;return v===void 0&&e.include&&(v=[{include:e.include}]),new l(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,c._compilePatterns(v,t,s))}return e.while?new p(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,c._compileCaptures(e.beginCaptures||e.captures,t,s),e.while,c._compileCaptures(e.whileCaptures||e.captures,t,s),c._compilePatterns(e.patterns,t,s)):new u(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,c._compileCaptures(e.beginCaptures||e.captures,t,s),e.end,c._compileCaptures(e.endCaptures||e.captures,t,s),e.applyEndPatternLast,c._compilePatterns(e.patterns,t,s))}),e.id},c._compileCaptures=function(e,t,s){var _=[];if(e){var v=0;for(var P in e)P!=="$vscodeTextmateLocation"&&(I=parseInt(P,10))>v&&(v=I);for(var A=0;A<=v;A++)_[A]=null;for(var P in e)if(P!=="$vscodeTextmateLocation"){var I=parseInt(P,10),q=0;e[P].patterns&&(q=c.getCompiledRuleId(e[P],t,s)),_[I]=c.createCaptureRule(t,e[P].$vscodeTextmateLocation,e[P].name,e[P].contentName,q)}}return _},c._compilePatterns=function(e,t,s){var _=[];if(e)for(var v=0,P=e.length;v<P;v++){var A=e[v],I=-1;if(A.include)if(A.include.charAt(0)==="#"){var q=s[A.include.substr(1)];q&&(I=c.getCompiledRuleId(q,t,s))}else if(A.include==="$base"||A.include==="$self")I=c.getCompiledRuleId(s[A.include],t,s);else{var H=null,K=null,Z=A.include.indexOf("#");Z>=0?(H=A.include.substring(0,Z),K=A.include.substring(Z+1)):H=A.include;var he=t.getExternalGrammar(H,s);if(he)if(K){var f=he.repository[K];f&&(I=c.getCompiledRuleId(f,t,he.repository))}else I=c.getCompiledRuleId(he.repository.$self,t,he.repository)}else I=c.getCompiledRuleId(A,t,s);if(I!==-1){var a=t.getRule(I),m=!1;if((a instanceof l||a instanceof u||a instanceof p)&&a.hasMissingPatterns&&a.patterns.length===0&&(m=!0),m)continue;_.push(I)}}return{patterns:_,hasMissingPatterns:(e?e.length:0)!==_.length}},c}();n.RuleFactory=o},function(j,n,S){function k(y){return!!y&&!!y.match(/[\w\.:]+/)}Object.defineProperty(n,"__esModule",{value:!0}),n.createMatchers=function(y,E){for(var N,r,d,L=[],w=(d=(r=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g).exec(N=y),{next:function(){if(!d)return null;var p=d[0];return d=r.exec(N),p}}),i=w.next();i!==null;){var T=0;if(i.length===2&&i.charAt(1)===":"){switch(i.charAt(0)){case"R":T=1;break;case"L":T=-1;break;default:console.log("Unknown priority "+i+" in scope selector")}i=w.next()}var g=u();if(L.push({matcher:g,priority:T}),i!==",")break;i=w.next()}return L;function l(){if(i==="-"){i=w.next();var p=l();return function(e){return!!p&&!p(e)}}if(i==="("){i=w.next();var o=function(){for(var e=[],t=u();t&&(e.push(t),i==="|"||i===",");){do i=w.next();while(i==="|"||i===",");t=u()}return function(s){return e.some(function(_){return _(s)})}}();return i===")"&&(i=w.next()),o}if(k(i)){var c=[];do c.push(i),i=w.next();while(k(i));return function(e){return E(c,e)}}return null}function u(){for(var p=[],o=l();o;)p.push(o),o=l();return function(c){return p.every(function(e){return e(c)})}}}},function(j,n){var S,k,y=j.exports={};function E(){throw new Error("setTimeout has not been defined")}function N(){throw new Error("clearTimeout has not been defined")}function r(p){if(S===setTimeout)return setTimeout(p,0);if((S===E||!S)&&setTimeout)return S=setTimeout,setTimeout(p,0);try{return S(p,0)}catch{try{return S.call(null,p,0)}catch{return S.call(this,p,0)}}}(function(){try{S=typeof setTimeout=="function"?setTimeout:E}catch{S=E}try{k=typeof clearTimeout=="function"?clearTimeout:N}catch{k=N}})();var d,L=[],w=!1,i=-1;function T(){w&&d&&(w=!1,d.length?L=d.concat(L):i=-1,L.length&&g())}function g(){if(!w){var p=r(T);w=!0;for(var o=L.length;o;){for(d=L,L=[];++i<o;)d&&d[i].run();i=-1,o=L.length}d=null,w=!1,function(c){if(k===clearTimeout)return clearTimeout(c);if((k===N||!k)&&clearTimeout)return k=clearTimeout,clearTimeout(c);try{k(c)}catch{try{return k.call(null,c)}catch{return k.call(this,c)}}}(p)}}function l(p,o){this.fun=p,this.array=o}function u(){}y.nextTick=function(p){var o=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)o[c-1]=arguments[c];L.push(new l(p,o)),L.length!==1||w||r(g)},l.prototype.run=function(){this.fun.apply(null,this.array)},y.title="browser",y.browser=!0,y.env={},y.argv=[],y.version="",y.versions={},y.on=u,y.addListener=u,y.once=u,y.off=u,y.removeListener=u,y.removeAllListeners=u,y.emit=u,y.prependListener=u,y.prependOnceListener=u,y.listeners=function(p){return[]},y.binding=function(p){throw new Error("process.binding is not supported")},y.cwd=function(){return"/"},y.chdir=function(p){throw new Error("process.chdir is not supported")},y.umask=function(){return 0}},function(j,n,S){Object.defineProperty(n,"__esModule",{value:!0});var k=S(9),y=S(2),E=S(10);n.parseRawGrammar=function(N,r){return r===void 0&&(r=null),r!==null&&/\.json$/.test(r)?function(d,L){return y.DebugFlags.InDebugMode?E.parse(d,L,!0):JSON.parse(d)}(N,r):function(d,L){return y.DebugFlags.InDebugMode?k.parseWithLocation(d,L,"$vscodeTextmateLocation"):k.parse(d)}(N,r)}},function(j,n,S){function k(y,E,N){var r=y.length,d=0,L=1,w=0;function i(R){if(N===null)d+=R;else for(;R>0;)y.charCodeAt(d)===10?(d++,L++,w=0):(d++,w++),R--}function T(R){N===null?d=R:i(R-d)}function g(){for(;d<r;){var R=y.charCodeAt(d);if(R!==32&&R!==9&&R!==13&&R!==10)break;i(1)}}function l(R){return y.substr(d,R.length)===R&&(i(R.length),!0)}function u(R){var $=y.indexOf(R,d);T($!==-1?$+R.length:r)}function p(R){var $=y.indexOf(R,d);if($!==-1){var V=y.substring(d,$);return T($+R.length),V}return V=y.substr(d),T(r),V}r>0&&y.charCodeAt(0)===65279&&(d=1);var o=0,c=null,e=[],t=[],s=null;function _(R,$){e.push(o),t.push(c),o=R,c=$}function v(){if(e.length===0)return P("illegal state stack");o=e.pop(),c=t.pop()}function P(R){throw new Error("Near offset "+d+": "+R+" ~~~"+y.substr(d,50)+"~~~")}var A,I,q,H=function(){if(s===null)return P("missing <key>");var R={};N!==null&&(R[N]={filename:E,line:L,char:w}),c[s]=R,s=null,_(1,R)},K=function(){if(s===null)return P("missing <key>");var R=[];c[s]=R,s=null,_(2,R)},Z=function(){var R={};N!==null&&(R[N]={filename:E,line:L,char:w}),c.push(R),_(1,R)},he=function(){var R=[];c.push(R),_(2,R)};function f(){if(o!==1)return P("unexpected </dict>");v()}function a(){return o===1||o!==2?P("unexpected </array>"):void v()}function m(R){if(o===1){if(s===null)return P("missing <key>");c[s]=R,s=null}else o===2?c.push(R):c=R}function x(R){if(isNaN(R))return P("cannot parse float");if(o===1){if(s===null)return P("missing <key>");c[s]=R,s=null}else o===2?c.push(R):c=R}function C(R){if(isNaN(R))return P("cannot parse integer");if(o===1){if(s===null)return P("missing <key>");c[s]=R,s=null}else o===2?c.push(R):c=R}function M(R){if(o===1){if(s===null)return P("missing <key>");c[s]=R,s=null}else o===2?c.push(R):c=R}function F(R){if(o===1){if(s===null)return P("missing <key>");c[s]=R,s=null}else o===2?c.push(R):c=R}function G(R){if(o===1){if(s===null)return P("missing <key>");c[s]=R,s=null}else o===2?c.push(R):c=R}function B(R){if(R.isClosed)return"";var $=p("</");return u(">"),$.replace(/&#([0-9]+);/g,function(V,X){return String.fromCodePoint(parseInt(X,10))}).replace(/&#x([0-9a-f]+);/g,function(V,X){return String.fromCodePoint(parseInt(X,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(V){switch(V){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return V})}for(;d<r&&(g(),!(d>=r));){var D=y.charCodeAt(d);if(i(1),D!==60)return P("expected <");if(d>=r)return P("unexpected end of input");var z=y.charCodeAt(d);if(z!==63)if(z!==33){if(z===47){if(i(1),g(),l("plist")){u(">");continue}if(l("dict")){u(">"),f();continue}if(l("array")){u(">"),a();continue}return P("unexpected closed tag")}var U=(I=void 0,q=void 0,I=p(">"),q=!1,I.charCodeAt(I.length-1)===47&&(q=!0,I=I.substring(0,I.length-1)),{name:I.trim(),isClosed:q});switch(U.name){case"dict":o===1?H():o===2?Z():(c={},N!==null&&(c[N]={filename:E,line:L,char:w}),_(1,c)),U.isClosed&&f();continue;case"array":o===1?K():o===2?he():_(2,c=[]),U.isClosed&&a();continue;case"key":A=B(U),o!==1?P("unexpected <key>"):s!==null?P("too many <key>"):s=A;continue;case"string":m(B(U));continue;case"real":x(parseFloat(B(U)));continue;case"integer":C(parseInt(B(U),10));continue;case"date":M(new Date(B(U)));continue;case"data":F(B(U));continue;case"true":B(U),G(!0);continue;case"false":B(U),G(!1);continue}if(!/^plist/.test(U.name))return P("unexpected opened tag "+U.name)}else{if(i(1),l("--")){u("-->");continue}u(">")}else i(1),u("?>")}return c}Object.defineProperty(n,"__esModule",{value:!0}),n.parseWithLocation=function(y,E,N){return k(y,E,N)},n.parse=function(y){return k(y,null,null)}},function(j,n,S){function k(r,d){throw new Error("Near offset "+r.pos+": "+d+" ~~~"+r.source.substr(r.pos,50)+"~~~")}Object.defineProperty(n,"__esModule",{value:!0}),n.parse=function(r,d,L){var w=new y(r),i=new E,T=0,g=null,l=[],u=[];function p(){l.push(T),u.push(g)}function o(){T=l.pop(),g=u.pop()}function c(_){k(w,_)}for(;N(w,i);){if(T===0){if(g!==null&&c("too many constructs in root"),i.type===3){g={},L&&(g.$vscodeTextmateLocation=i.toLocation(d)),p(),T=1;continue}if(i.type===2){g=[],p(),T=4;continue}c("unexpected token in root")}if(T===2){if(i.type===5){o();continue}if(i.type===7){T=3;continue}c("expected , or }")}if(T===1||T===3){if(T===1&&i.type===5){o();continue}if(i.type===1){var e=i.value;if(N(w,i)&&i.type===6||c("expected colon"),N(w,i)||c("expected value"),T=2,i.type===1){g[e]=i.value;continue}if(i.type===8){g[e]=null;continue}if(i.type===9){g[e]=!0;continue}if(i.type===10){g[e]=!1;continue}if(i.type===11){g[e]=parseFloat(i.value);continue}if(i.type===2){var t=[];g[e]=t,p(),T=4,g=t;continue}if(i.type===3){var s={};L&&(s.$vscodeTextmateLocation=i.toLocation(d)),g[e]=s,p(),T=1,g=s;continue}}c("unexpected token in dict")}if(T===5){if(i.type===4){o();continue}if(i.type===7){T=6;continue}c("expected , or ]")}if(T===4||T===6){if(T===4&&i.type===4){o();continue}if(T=5,i.type===1){g.push(i.value);continue}if(i.type===8){g.push(null);continue}if(i.type===9){g.push(!0);continue}if(i.type===10){g.push(!1);continue}if(i.type===11){g.push(parseFloat(i.value));continue}if(i.type===2){t=[],g.push(t),p(),T=4,g=t;continue}if(i.type===3){s={},L&&(s.$vscodeTextmateLocation=i.toLocation(d)),g.push(s),p(),T=1,g=s;continue}c("unexpected token in array")}c("unknown state")}return u.length!==0&&c("unclosed constructs"),g};var y=function(r){this.source=r,this.pos=0,this.len=r.length,this.line=1,this.char=0},E=function(){function r(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}return r.prototype.toLocation=function(d){return{filename:d,line:this.line,char:this.char}},r}();function N(r,d){d.value=null,d.type=0,d.offset=-1,d.len=-1,d.line=-1,d.char=-1;for(var L,w=r.source,i=r.pos,T=r.len,g=r.line,l=r.char;;){if(i>=T)return!1;if((L=w.charCodeAt(i))!==32&&L!==9&&L!==13){if(L!==10)break;i++,g++,l=0}else i++,l++}if(d.offset=i,d.line=g,d.char=l,L===34){for(d.type=1,i++,l++;;){if(i>=T)return!1;if(L=w.charCodeAt(i),i++,l++,L!==92){if(L===34)break}else i++,l++}d.value=w.substring(d.offset+1,i-1).replace(/\\u([0-9A-Fa-f]{4})/g,function(u,p){return String.fromCodePoint(parseInt(p,16))}).replace(/\\(.)/g,function(u,p){switch(p){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";default:k(r,"invalid escape sequence")}throw new Error("unreachable")})}else if(L===91)d.type=2,i++,l++;else if(L===123)d.type=3,i++,l++;else if(L===93)d.type=4,i++,l++;else if(L===125)d.type=5,i++,l++;else if(L===58)d.type=6,i++,l++;else if(L===44)d.type=7,i++,l++;else if(L===110){if(d.type=8,i++,l++,(L=w.charCodeAt(i))!==117||(i++,l++,(L=w.charCodeAt(i))!==108)||(i++,l++,(L=w.charCodeAt(i))!==108))return!1;i++,l++}else if(L===116){if(d.type=9,i++,l++,(L=w.charCodeAt(i))!==114||(i++,l++,(L=w.charCodeAt(i))!==117)||(i++,l++,(L=w.charCodeAt(i))!==101))return!1;i++,l++}else if(L===102){if(d.type=10,i++,l++,(L=w.charCodeAt(i))!==97||(i++,l++,(L=w.charCodeAt(i))!==108)||(i++,l++,(L=w.charCodeAt(i))!==115)||(i++,l++,(L=w.charCodeAt(i))!==101))return!1;i++,l++}else for(d.type=11;;){if(i>=T)return!1;if(!((L=w.charCodeAt(i))===46||L>=48&&L<=57||L===101||L===69||L===45||L===43))break;i++,l++}return d.len=i-d.offset,d.value===null&&(d.value=w.substr(d.offset,d.len)),r.pos=i,r.line=g,r.char=l,!0}},function(j,n,S){Object.defineProperty(n,"__esModule",{value:!0});var k=function(g,l,u,p,o,c){this.scope=g,this.parentScopes=l,this.index=u,this.fontStyle=p,this.foreground=o,this.background=c};function y(g){return!!/^#[0-9a-f]{6}$/i.test(g)||!!/^#[0-9a-f]{8}$/i.test(g)||!!/^#[0-9a-f]{3}$/i.test(g)||!!/^#[0-9a-f]{4}$/i.test(g)}function E(g){if(!g)return[];if(!g.settings||!Array.isArray(g.settings))return[];for(var l=g.settings,u=[],p=0,o=0,c=l.length;o<c;o++){var e=l[o];if(e.settings){var t=void 0;typeof e.scope=="string"?t=e.scope.replace(/^[,]+/,"").replace(/[,]+$/,"").split(","):t=Array.isArray(e.scope)?e.scope:[""];var s=-1;if(typeof e.settings.fontStyle=="string"){s=0;for(var _=0,v=(I=e.settings.fontStyle.split(" ")).length;_<v;_++)switch(I[_]){case"italic":s|=1;break;case"bold":s|=2;break;case"underline":s|=4}}var P=null;typeof e.settings.foreground=="string"&&y(e.settings.foreground)&&(P=e.settings.foreground);var A=null;for(typeof e.settings.background=="string"&&y(e.settings.background)&&(A=e.settings.background),_=0,v=t.length;_<v;_++){var I,q=(I=t[_].trim().split(" "))[I.length-1],H=null;I.length>1&&(H=I.slice(0,I.length-1)).reverse(),u[p++]=new k(q,H,o,s,P,A)}}}return u}function N(g,l){g.sort(function(A,I){var q=L(A.scope,I.scope);return q!==0||(q=w(A.parentScopes,I.parentScopes))!==0?q:A.index-I.index});for(var u=0,p="#000000",o="#ffffff";g.length>=1&&g[0].scope==="";){var c=g.shift();c.fontStyle!==-1&&(u=c.fontStyle),c.foreground!==null&&(p=c.foreground),c.background!==null&&(o=c.background)}for(var e=new r(l),t=new i(0,null,u,e.getId(p),e.getId(o)),s=new T(new i(0,null,-1,0,0),[]),_=0,v=g.length;_<v;_++){var P=g[_];s.insert(0,P.scope,P.parentScopes,P.fontStyle,e.getId(P.foreground),e.getId(P.background))}return new d(e,t,s)}n.ParsedThemeRule=k,n.parseTheme=E;var r=function(){function g(l){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(l)){this._isFrozen=!0;for(var u=0,p=l.length;u<p;u++)this._color2id[l[u]]=u,this._id2color[u]=l[u]}else this._isFrozen=!1}return g.prototype.getId=function(l){if(l===null)return 0;l=l.toUpperCase();var u=this._color2id[l];if(u)return u;if(this._isFrozen)throw new Error("Missing color in color map - "+l);return u=++this._lastColorId,this._color2id[l]=u,this._id2color[u]=l,u},g.prototype.getColorMap=function(){return this._id2color.slice(0)},g}();n.ColorMap=r;var d=function(){function g(l,u,p){this._colorMap=l,this._root=p,this._defaults=u,this._cache={}}return g.createFromRawTheme=function(l,u){return this.createFromParsedTheme(E(l),u)},g.createFromParsedTheme=function(l,u){return N(l,u)},g.prototype.getColorMap=function(){return this._colorMap.getColorMap()},g.prototype.getDefaults=function(){return this._defaults},g.prototype.match=function(l){return this._cache.hasOwnProperty(l)||(this._cache[l]=this._root.match(l)),this._cache[l]},g}();function L(g,l){return g<l?-1:g>l?1:0}function w(g,l){if(g===null&&l===null)return 0;if(!g)return-1;if(!l)return 1;var u=g.length,p=l.length;if(u===p){for(var o=0;o<u;o++){var c=L(g[o],l[o]);if(c!==0)return c}return 0}return u-p}n.Theme=d,n.strcmp=L,n.strArrCmp=w;var i=function(){function g(l,u,p,o,c){this.scopeDepth=l,this.parentScopes=u,this.fontStyle=p,this.foreground=o,this.background=c}return g.prototype.clone=function(){return new g(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)},g.cloneArr=function(l){for(var u=[],p=0,o=l.length;p<o;p++)u[p]=l[p].clone();return u},g.prototype.acceptOverwrite=function(l,u,p,o){this.scopeDepth>l?console.log("how did this happen?"):this.scopeDepth=l,u!==-1&&(this.fontStyle=u),p!==0&&(this.foreground=p),o!==0&&(this.background=o)},g}();n.ThemeTrieElementRule=i;var T=function(){function g(l,u,p){u===void 0&&(u=[]),p===void 0&&(p={}),this._mainRule=l,this._rulesWithParentScopes=u,this._children=p}return g._sortBySpecificity=function(l){return l.length===1||l.sort(this._cmpBySpecificity),l},g._cmpBySpecificity=function(l,u){if(l.scopeDepth===u.scopeDepth){var p=l.parentScopes,o=u.parentScopes,c=p===null?0:p.length,e=o===null?0:o.length;if(c===e)for(var t=0;t<c;t++){var s=p[t].length,_=o[t].length;if(s!==_)return _-s}return e-c}return u.scopeDepth-l.scopeDepth},g.prototype.match=function(l){if(l==="")return g._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));var u,p,o=l.indexOf(".");return o===-1?(u=l,p=""):(u=l.substring(0,o),p=l.substring(o+1)),this._children.hasOwnProperty(u)?this._children[u].match(p):g._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))},g.prototype.insert=function(l,u,p,o,c,e){if(u!==""){var t,s,_,v=u.indexOf(".");v===-1?(t=u,s=""):(t=u.substring(0,v),s=u.substring(v+1)),this._children.hasOwnProperty(t)?_=this._children[t]:(_=new g(this._mainRule.clone(),i.cloneArr(this._rulesWithParentScopes)),this._children[t]=_),_.insert(l+1,s,p,o,c,e)}else this._doInsertHere(l,p,o,c,e)},g.prototype._doInsertHere=function(l,u,p,o,c){if(u!==null){for(var e=0,t=this._rulesWithParentScopes.length;e<t;e++){var s=this._rulesWithParentScopes[e];if(w(s.parentScopes,u)===0)return void s.acceptOverwrite(l,p,o,c)}p===-1&&(p=this._mainRule.fontStyle),o===0&&(o=this._mainRule.foreground),c===0&&(c=this._mainRule.background),this._rulesWithParentScopes.push(new i(l,u,p,o,c))}else this._mainRule.acceptOverwrite(l,p,o,c)},g}();n.ThemeTrieElement=T}])})})(Ce);const Se=[{id:"abap",scopeName:"source.abap",path:"abap.tmLanguage.json",samplePath:"abap.sample"},{id:"actionscript-3",scopeName:"source.actionscript.3",path:"actionscript-3.tmLanguage.json",samplePath:"actionscript-3.sample"},{id:"ada",scopeName:"source.ada",path:"ada.tmLanguage.json",samplePath:"ada.sample"},{id:"apache",scopeName:"source.apacheconf",path:"apache.tmLanguage.json"},{id:"apex",scopeName:"source.apex",path:"apex.tmLanguage.json",samplePath:"apex.sample"},{id:"apl",scopeName:"source.apl",path:"apl.tmLanguage.json",embeddedLangs:["html","xml","css","javascript","json"]},{id:"applescript",scopeName:"source.applescript",path:"applescript.tmLanguage.json",samplePath:"applescript.sample"},{id:"asm",scopeName:"source.asm.x86_64",path:"asm.tmLanguage.json",samplePath:"asm.sample"},{id:"astro",scopeName:"text.html.astro",path:"astro.tmLanguage.json",samplePath:"astro.sample",embeddedLangs:["css","javascript","less","sass","scss","stylus","typescript","tsx"]},{id:"awk",scopeName:"source.awk",path:"awk.tmLanguage.json",samplePath:"awk.sample"},{id:"ballerina",scopeName:"source.ballerina",path:"ballerina.tmLanguage.json",samplePath:"ballerina.sample"},{id:"bat",scopeName:"source.batchfile",path:"bat.tmLanguage.json",samplePath:"bat.sample",aliases:["batch"]},{id:"berry",scopeName:"source.berry",path:"berry.tmLanguage.json",samplePath:"berry.sample",aliases:["be"]},{id:"bibtex",scopeName:"text.bibtex",path:"bibtex.tmLanguage.json"},{id:"bicep",scopeName:"source.bicep",path:"bicep.tmLanguage.json",samplePath:"bicep.sample"},{id:"c",scopeName:"source.c",path:"c.tmLanguage.json",samplePath:"c.sample"},{id:"clojure",scopeName:"source.clojure",path:"clojure.tmLanguage.json",samplePath:"clojure.sample",aliases:["clj"]},{id:"cobol",scopeName:"source.cobol",path:"cobol.tmLanguage.json",samplePath:"cobol.sample",embeddedLangs:["sql","html","java"]},{id:"codeql",scopeName:"source.ql",path:"codeql.tmLanguage.json",samplePath:"codeql.sample",aliases:["ql"]},{id:"coffee",scopeName:"source.coffee",path:"coffee.tmLanguage.json",samplePath:"coffee.sample",embeddedLangs:["javascript"]},{id:"cpp",scopeName:"source.cpp",path:"cpp.tmLanguage.json",samplePath:"cpp.sample",embeddedLangs:["sql"]},{id:"crystal",scopeName:"source.crystal",path:"crystal.tmLanguage.json",samplePath:"crystal.sample",embeddedLangs:["html","sql","css","c","javascript","shellscript"]},{id:"csharp",scopeName:"source.cs",path:"csharp.tmLanguage.json",samplePath:"csharp.sample",aliases:["c#"]},{id:"css",scopeName:"source.css",path:"css.tmLanguage.json",samplePath:"css.sample"},{id:"cue",scopeName:"source.cue",path:"cue.tmLanguage.json",samplePath:"cue.sample"},{id:"d",scopeName:"source.d",path:"d.tmLanguage.json",samplePath:"d.sample"},{id:"dart",scopeName:"source.dart",path:"dart.tmLanguage.json",samplePath:"dart.sample"},{id:"diff",scopeName:"source.diff",path:"diff.tmLanguage.json",samplePath:"diff.sample"},{id:"docker",scopeName:"source.dockerfile",path:"docker.tmLanguage.json",samplePath:"docker.sample"},{id:"dream-maker",scopeName:"source.dm",path:"dream-maker.tmLanguage.json"},{id:"elixir",scopeName:"source.elixir",path:"elixir.tmLanguage.json",samplePath:"elixir.sample",embeddedLangs:["html"]},{id:"elm",scopeName:"source.elm",path:"elm.tmLanguage.json",samplePath:"elm.sample"},{id:"erb",scopeName:"text.html.erb",path:"erb.tmLanguage.json",samplePath:"erb.sample",embeddedLangs:["html","ruby"]},{id:"erlang",scopeName:"source.erlang",path:"erlang.tmLanguage.json",samplePath:"erlang.sample"},{id:"fish",scopeName:"source.fish",path:"fish.tmLanguage.json",samplePath:"fish.sample"},{id:"fsharp",scopeName:"source.fsharp",path:"fsharp.tmLanguage.json",samplePath:"fsharp.sample",aliases:["f#"],embeddedLangs:["markdown"]},{id:"gherkin",scopeName:"text.gherkin.feature",path:"gherkin.tmLanguage.json"},{id:"git-commit",scopeName:"text.git-commit",path:"git-commit.tmLanguage.json",embeddedLangs:["diff"]},{id:"git-rebase",scopeName:"text.git-rebase",path:"git-rebase.tmLanguage.json",embeddedLangs:["shellscript"]},{id:"gnuplot",scopeName:"source.gnuplot",path:"gnuplot.tmLanguage.json"},{id:"go",scopeName:"source.go",path:"go.tmLanguage.json",samplePath:"go.sample"},{id:"graphql",scopeName:"source.graphql",path:"graphql.tmLanguage.json",embeddedLangs:["javascript","typescript","jsx","tsx"]},{id:"groovy",scopeName:"source.groovy",path:"groovy.tmLanguage.json"},{id:"hack",scopeName:"source.hack",path:"hack.tmLanguage.json",embeddedLangs:["html","sql"]},{id:"haml",scopeName:"text.haml",path:"haml.tmLanguage.json",embeddedLangs:["ruby","javascript","sass","coffee","markdown","css"]},{id:"handlebars",scopeName:"text.html.handlebars",path:"handlebars.tmLanguage.json",aliases:["hbs"],embeddedLangs:["html","css","javascript","yaml"]},{id:"haskell",scopeName:"source.haskell",path:"haskell.tmLanguage.json"},{id:"hcl",scopeName:"source.hcl",path:"hcl.tmLanguage.json"},{id:"hlsl",scopeName:"source.hlsl",path:"hlsl.tmLanguage.json"},{id:"html",scopeName:"text.html.basic",path:"html.tmLanguage.json",samplePath:"html.sample",embeddedLangs:["javascript","css"]},{id:"ini",scopeName:"source.ini",path:"ini.tmLanguage.json"},{id:"java",scopeName:"source.java",path:"java.tmLanguage.json",samplePath:"java.sample"},{id:"javascript",scopeName:"source.js",path:"javascript.tmLanguage.json",samplePath:"javascript.sample",aliases:["js"]},{id:"jinja-html",scopeName:"text.html.jinja",path:"jinja-html.tmLanguage.json",embeddedLangs:["html"]},{id:"json",scopeName:"source.json",path:"json.tmLanguage.json"},{id:"jsonc",scopeName:"source.json.comments",path:"jsonc.tmLanguage.json"},{id:"jsonnet",scopeName:"source.jsonnet",path:"jsonnet.tmLanguage.json"},{id:"jssm",scopeName:"source.jssm",path:"jssm.tmLanguage.json",samplePath:"jssm.sample",aliases:["fsl"]},{id:"jsx",scopeName:"source.js.jsx",path:"jsx.tmLanguage.json"},{id:"julia",scopeName:"source.julia",path:"julia.tmLanguage.json",embeddedLangs:["cpp","python","javascript","r","sql"]},{id:"jupyter",scopeName:"source.jupyter",path:"jupyter.tmLanguage.json",embeddedLangs:["json"]},{id:"kotlin",scopeName:"source.kotlin",path:"kotlin.tmLanguage.json"},{id:"latex",scopeName:"text.tex.latex",path:"latex.tmLanguage.json",embeddedLangs:["tex","css","html","java","javascript","typescript","lua","python","julia","ruby","xml","yaml","cpp","haskell","scala","gnuplot"]},{id:"less",scopeName:"source.css.less",path:"less.tmLanguage.json",embeddedLangs:["css"]},{id:"lisp",scopeName:"source.lisp",path:"lisp.tmLanguage.json"},{id:"logo",scopeName:"source.logo",path:"logo.tmLanguage.json"},{id:"lua",scopeName:"source.lua",path:"lua.tmLanguage.json",embeddedLangs:["c"]},{id:"make",scopeName:"source.makefile",path:"make.tmLanguage.json",aliases:["makefile"]},{id:"markdown",scopeName:"text.html.markdown",path:"markdown.tmLanguage.json",aliases:["md"],embeddedLangs:["css","html","ini","java","lua","make","perl","r","ruby","php","sql","vb","xml","xsl","yaml","bat","clojure","coffee","c","cpp","diff","docker","git-commit","git-rebase","go","groovy","pug","javascript","json","jsonc","less","objective-c","swift","scss","raku","powershell","python","rust","scala","shellscript","typescript","tsx","csharp","fsharp","dart","handlebars","erlang","elixir","latex","bibtex"]},{id:"marko",scopeName:"text.marko",path:"marko.tmLanguage.json",samplePath:"marko.sample",embeddedLangs:["css","less","scss","javascript"]},{id:"matlab",scopeName:"source.matlab",path:"matlab.tmLanguage.json"},{id:"mdx",scopeName:"text.html.markdown.jsx",path:"mdx.tmLanguage.json",embeddedLangs:["jsx","markdown"]},{id:"nginx",scopeName:"source.nginx",path:"nginx.tmLanguage.json",embeddedLangs:["lua"]},{id:"nim",scopeName:"source.nim",path:"nim.tmLanguage.json",embeddedLangs:["c","html","xml","javascript","css","markdown"]},{id:"nix",scopeName:"source.nix",path:"nix.tmLanguage.json"},{id:"objective-c",scopeName:"source.objc",path:"objective-c.tmLanguage.json",aliases:["objc"]},{id:"objective-cpp",scopeName:"source.objcpp",path:"objective-cpp.tmLanguage.json"},{id:"ocaml",scopeName:"source.ocaml",path:"ocaml.tmLanguage.json"},{id:"pascal",scopeName:"source.pascal",path:"pascal.tmLanguage.json"},{id:"perl",scopeName:"source.perl",path:"perl.tmLanguage.json",embeddedLangs:["html","xml","css","javascript","sql"]},{id:"php",scopeName:"source.php",path:"php.tmLanguage.json",embeddedLangs:["html","xml","sql","javascript","json","css"]},{id:"plsql",scopeName:"source.plsql.oracle",path:"plsql.tmLanguage.json"},{id:"postcss",scopeName:"source.css.postcss",path:"postcss.tmLanguage.json"},{id:"powershell",scopeName:"source.powershell",path:"powershell.tmLanguage.json",aliases:["ps","ps1"]},{id:"prisma",scopeName:"source.prisma",path:"prisma.tmLanguage.json",samplePath:"prisma.sample"},{id:"prolog",scopeName:"source.prolog",path:"prolog.tmLanguage.json"},{id:"pug",scopeName:"text.pug",path:"pug.tmLanguage.json",aliases:["jade"],embeddedLangs:["javascript","css","sass","stylus","coffee","html"]},{id:"puppet",scopeName:"source.puppet",path:"puppet.tmLanguage.json"},{id:"purescript",scopeName:"source.purescript",path:"purescript.tmLanguage.json"},{id:"python",scopeName:"source.python",path:"python.tmLanguage.json",samplePath:"python.sample",aliases:["py"]},{id:"r",scopeName:"source.r",path:"r.tmLanguage.json"},{id:"raku",scopeName:"source.perl.6",path:"raku.tmLanguage.json",aliases:["perl6"]},{id:"razor",scopeName:"text.aspnetcorerazor",path:"razor.tmLanguage.json",embeddedLangs:["html","csharp"]},{id:"rel",scopeName:"source.rel",path:"rel.tmLanguage.json",samplePath:"rel.sample"},{id:"riscv",scopeName:"source.riscv",path:"riscv.tmLanguage.json"},{id:"ruby",scopeName:"source.ruby",path:"ruby.tmLanguage.json",samplePath:"ruby.sample",aliases:["rb"],embeddedLangs:["html","xml","sql","css","c","javascript","shellscript","lua"]},{id:"rust",scopeName:"source.rust",path:"rust.tmLanguage.json",aliases:["rs"]},{id:"sas",scopeName:"source.sas",path:"sas.tmLanguage.json",embeddedLangs:["sql"]},{id:"sass",scopeName:"source.sass",path:"sass.tmLanguage.json"},{id:"scala",scopeName:"source.scala",path:"scala.tmLanguage.json"},{id:"scheme",scopeName:"source.scheme",path:"scheme.tmLanguage.json"},{id:"scss",scopeName:"source.css.scss",path:"scss.tmLanguage.json",embeddedLangs:["css"]},{id:"shaderlab",scopeName:"source.shaderlab",path:"shaderlab.tmLanguage.json",aliases:["shader"],embeddedLangs:["hlsl"]},{id:"shellscript",scopeName:"source.shell",path:"shellscript.tmLanguage.json",aliases:["shell","bash","sh","zsh"],embeddedLangs:["ruby","python","applescript","html","markdown"]},{id:"smalltalk",scopeName:"source.smalltalk",path:"smalltalk.tmLanguage.json"},{id:"solidity",scopeName:"source.solidity",path:"solidity.tmLanguage.json"},{id:"sparql",scopeName:"source.sparql",path:"sparql.tmLanguage.json",samplePath:"sparql.sample",embeddedLangs:["turtle"]},{id:"sql",scopeName:"source.sql",path:"sql.tmLanguage.json"},{id:"ssh-config",scopeName:"source.ssh-config",path:"ssh-config.tmLanguage.json"},{id:"stata",scopeName:"source.stata",path:"stata.tmLanguage.json",samplePath:"stata.sample",embeddedLangs:["sql"]},{id:"stylus",scopeName:"source.stylus",path:"stylus.tmLanguage.json",aliases:["styl"]},{id:"svelte",scopeName:"source.svelte",path:"svelte.tmLanguage.json",embeddedLangs:["javascript","typescript","coffee","stylus","sass","css","scss","less","postcss","pug","markdown"]},{id:"swift",scopeName:"source.swift",path:"swift.tmLanguage.json"},{id:"system-verilog",scopeName:"source.systemverilog",path:"system-verilog.tmLanguage.json"},{id:"tasl",scopeName:"source.tasl",path:"tasl.tmLanguage.json",samplePath:"tasl.sample"},{id:"tcl",scopeName:"source.tcl",path:"tcl.tmLanguage.json"},{id:"tex",scopeName:"text.tex",path:"tex.tmLanguage.json",embeddedLangs:["r"]},{id:"toml",scopeName:"source.toml",path:"toml.tmLanguage.json"},{id:"tsx",scopeName:"source.tsx",path:"tsx.tmLanguage.json",samplePath:"tsx.sample"},{id:"turtle",scopeName:"source.turtle",path:"turtle.tmLanguage.json",samplePath:"turtle.sample"},{id:"twig",scopeName:"text.html.twig",path:"twig.tmLanguage.json",embeddedLangs:["css","javascript","php","python","ruby"]},{id:"typescript",scopeName:"source.ts",path:"typescript.tmLanguage.json",aliases:["ts"]},{id:"vb",scopeName:"source.asp.vb.net",path:"vb.tmLanguage.json",aliases:["cmd"]},{id:"verilog",scopeName:"source.verilog",path:"verilog.tmLanguage.json"},{id:"vhdl",scopeName:"source.vhdl",path:"vhdl.tmLanguage.json"},{id:"viml",scopeName:"source.viml",path:"viml.tmLanguage.json",aliases:["vim","vimscript"]},{id:"vue-html",scopeName:"text.html.vue-html",path:"vue-html.tmLanguage.json",embeddedLangs:["vue","javascript"]},{id:"vue",scopeName:"source.vue",path:"vue.tmLanguage.json",embeddedLangs:["json","markdown","pug","haml","vue-html","sass","scss","less","stylus","postcss","css","typescript","coffee","javascript"]},{id:"wasm",scopeName:"source.wat",path:"wasm.tmLanguage.json"},{id:"wenyan",scopeName:"source.wenyan",path:"wenyan.tmLanguage.json",aliases:["\u6587\u8A00"]},{id:"xml",scopeName:"text.xml",path:"xml.tmLanguage.json",embeddedLangs:["java"]},{id:"xsl",scopeName:"text.xml.xsl",path:"xsl.tmLanguage.json",embeddedLangs:["xml"]},{id:"yaml",scopeName:"source.yaml",path:"yaml.tmLanguage.json"},{id:"zenscript",scopeName:"source.zenscript",path:"zenscript.tmLanguage.json",samplePath:"zenscript.sample"}];var ge;(function(h){h[h.NotSet=-1]="NotSet",h[h.None=0]="None",h[h.Italic=1]="Italic",h[h.Bold=2]="Bold",h[h.Underline=4]="Underline"})(ge||(ge={}));class ue{static toBinaryStr(b){let j=b.toString(2);for(;j.length<32;)j="0"+j;return j}static printMetadata(b){let j=ue.getLanguageId(b),n=ue.getTokenType(b),S=ue.getFontStyle(b),k=ue.getForeground(b),y=ue.getBackground(b);console.log({languageId:j,tokenType:n,fontStyle:S,foreground:k,background:y})}static getLanguageId(b){return(b&255)>>>0}static getTokenType(b){return(b&1792)>>>8}static getFontStyle(b){return(b&14336)>>>11}static getForeground(b){return(b&8372224)>>>14}static getBackground(b){return(b&4286578688)>>>23}static set(b,j,n,S,k,y){let E=ue.getLanguageId(b),N=ue.getTokenType(b),r=ue.getFontStyle(b),d=ue.getForeground(b),L=ue.getBackground(b);return j!==0&&(E=j),n!==0&&(N=n===8?0:n),S!==ge.NotSet&&(r=S),k!==0&&(d=k),y!==0&&(L=y),(E<<0|N<<8|r<<11|d<<14|L<<23)>>>0}}function $e(h){return h.endsWith("/")||h.endsWith("\\")?h.slice(0,-1):h}function Ue(h){return h.startsWith("./")?h.slice(2):h}function qe(h){const b=h.split(/[\/\\]/g);return b[b.length-2]}function ze(...h){return h.map($e).map(Ue).join("/")}function He(h,b){const j=new Map;for(const n of h){const S=b(n);j.has(S)?j.get(S).push(n):j.set(S,[n])}return j}function Ve(h,b){b===void 0&&(b=!1);var j=h.length,n=0,S="",k=0,y=16,E=0,N=0,r=0,d=0,L=0;function w(o,c){for(var e=0,t=0;e<o||!c;){var s=h.charCodeAt(n);if(s>=48&&s<=57)t=t*16+s-48;else if(s>=65&&s<=70)t=t*16+s-65+10;else if(s>=97&&s<=102)t=t*16+s-97+10;else break;n++,e++}return e<o&&(t=-1),t}function i(o){n=o,S="",k=0,y=16,L=0}function T(){var o=n;if(h.charCodeAt(n)===48)n++;else for(n++;n<h.length&&me(h.charCodeAt(n));)n++;if(n<h.length&&h.charCodeAt(n)===46)if(n++,n<h.length&&me(h.charCodeAt(n)))for(n++;n<h.length&&me(h.charCodeAt(n));)n++;else return L=3,h.substring(o,n);var c=n;if(n<h.length&&(h.charCodeAt(n)===69||h.charCodeAt(n)===101))if(n++,(n<h.length&&h.charCodeAt(n)===43||h.charCodeAt(n)===45)&&n++,n<h.length&&me(h.charCodeAt(n))){for(n++;n<h.length&&me(h.charCodeAt(n));)n++;c=n}else L=3;return h.substring(o,c)}function g(){for(var o="",c=n;;){if(n>=j){o+=h.substring(c,n),L=2;break}var e=h.charCodeAt(n);if(e===34){o+=h.substring(c,n),n++;break}if(e===92){if(o+=h.substring(c,n),n++,n>=j){L=2;break}var t=h.charCodeAt(n++);switch(t){case 34:o+='"';break;case 92:o+="\\";break;case 47:o+="/";break;case 98:o+="\b";break;case 102:o+="\f";break;case 110:o+=`
`;break;case 114:o+="\r";break;case 116:o+="	";break;case 117:var s=w(4,!0);s>=0?o+=String.fromCharCode(s):L=4;break;default:L=5}c=n;continue}if(e>=0&&e<=31)if(ke(e)){o+=h.substring(c,n),L=2;break}else L=6;n++}return o}function l(){if(S="",L=0,k=n,N=E,d=r,n>=j)return k=j,y=17;var o=h.charCodeAt(n);if(Ne(o)){do n++,S+=String.fromCharCode(o),o=h.charCodeAt(n);while(Ne(o));return y=15}if(ke(o))return n++,S+=String.fromCharCode(o),o===13&&h.charCodeAt(n)===10&&(n++,S+=`
`),E++,r=n,y=14;switch(o){case 123:return n++,y=1;case 125:return n++,y=2;case 91:return n++,y=3;case 93:return n++,y=4;case 58:return n++,y=6;case 44:return n++,y=5;case 34:return n++,S=g(),y=10;case 47:var c=n-1;if(h.charCodeAt(n+1)===47){for(n+=2;n<j&&!ke(h.charCodeAt(n));)n++;return S=h.substring(c,n),y=12}if(h.charCodeAt(n+1)===42){n+=2;for(var e=j-1,t=!1;n<e;){var s=h.charCodeAt(n);if(s===42&&h.charCodeAt(n+1)===47){n+=2,t=!0;break}n++,ke(s)&&(s===13&&h.charCodeAt(n)===10&&n++,E++,r=n)}return t||(n++,L=1),S=h.substring(c,n),y=13}return S+=String.fromCharCode(o),n++,y=16;case 45:if(S+=String.fromCharCode(o),n++,n===j||!me(h.charCodeAt(n)))return y=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return S+=T(),y=11;default:for(;n<j&&u(o);)n++,o=h.charCodeAt(n);if(k!==n){switch(S=h.substring(k,n),S){case"true":return y=8;case"false":return y=9;case"null":return y=7}return y=16}return S+=String.fromCharCode(o),n++,y=16}}function u(o){if(Ne(o)||ke(o))return!1;switch(o){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function p(){var o;do o=l();while(o>=12&&o<=15);return o}return{setPosition:i,getPosition:function(){return n},scan:b?p:l,getToken:function(){return y},getTokenValue:function(){return S},getTokenOffset:function(){return k},getTokenLength:function(){return n-k},getTokenStartLine:function(){return N},getTokenStartCharacter:function(){return k-d},getTokenError:function(){return L}}}function Ne(h){return h===32||h===9||h===11||h===12||h===160||h===5760||h>=8192&&h<=8203||h===8239||h===8287||h===12288||h===65279}function ke(h){return h===10||h===13||h===8232||h===8233}function me(h){return h>=48&&h<=57}var je;(function(h){h.DEFAULT={allowTrailingComma:!1}})(je||(je={}));function Ke(h,b,j){b===void 0&&(b=[]),j===void 0&&(j=je.DEFAULT);var n=null,S=[],k=[];function y(N){Array.isArray(S)?S.push(N):n!==null&&(S[n]=N)}var E={onObjectBegin:function(){var N={};y(N),k.push(S),S=N,n=null},onObjectProperty:function(N){n=N},onObjectEnd:function(){S=k.pop()},onArrayBegin:function(){var N=[];y(N),k.push(S),S=N,n=null},onArrayEnd:function(){S=k.pop()},onLiteralValue:y,onError:function(N,r,d){b.push({error:N,offset:r,length:d})}};return Xe(h,E,j),S[0]}function Xe(h,b,j){j===void 0&&(j=je.DEFAULT);var n=Ve(h,!1);function S(v){return v?function(){return v(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}function k(v){return v?function(P){return v(P,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}var y=S(b.onObjectBegin),E=k(b.onObjectProperty),N=S(b.onObjectEnd),r=S(b.onArrayBegin),d=S(b.onArrayEnd),L=k(b.onLiteralValue),w=k(b.onSeparator),i=S(b.onComment),T=k(b.onError),g=j&&j.disallowComments,l=j&&j.allowTrailingComma;function u(){for(;;){var v=n.scan();switch(n.getTokenError()){case 4:p(14);break;case 5:p(15);break;case 3:p(13);break;case 1:g||p(11);break;case 2:p(12);break;case 6:p(16);break}switch(v){case 12:case 13:g?p(10):i();break;case 16:p(1);break;case 15:case 14:break;default:return v}}}function p(v,P,A){if(P===void 0&&(P=[]),A===void 0&&(A=[]),T(v),P.length+A.length>0)for(var I=n.getToken();I!==17;){if(P.indexOf(I)!==-1){u();break}else if(A.indexOf(I)!==-1)break;I=u()}}function o(v){var P=n.getTokenValue();return v?L(P):E(P),u(),!0}function c(){switch(n.getToken()){case 11:var v=n.getTokenValue(),P=Number(v);isNaN(P)&&(p(2),P=0),L(P);break;case 7:L(null);break;case 8:L(!0);break;case 9:L(!1);break;default:return!1}return u(),!0}function e(){return n.getToken()!==10?(p(3,[],[2,5]),!1):(o(!1),n.getToken()===6?(w(":"),u(),_()||p(4,[],[2,5])):p(5,[],[2,5]),!0)}function t(){y(),u();for(var v=!1;n.getToken()!==2&&n.getToken()!==17;){if(n.getToken()===5){if(v||p(4,[],[]),w(","),u(),n.getToken()===2&&l)break}else v&&p(6,[],[]);e()||p(4,[],[2,5]),v=!0}return N(),n.getToken()!==2?p(7,[2],[]):u(),!0}function s(){r(),u();for(var v=!1;n.getToken()!==4&&n.getToken()!==17;){if(n.getToken()===5){if(v||p(4,[],[]),w(","),u(),n.getToken()===4&&l)break}else v&&p(6,[],[]);_()||p(4,[],[4,5]),v=!0}return d(),n.getToken()!==4?p(8,[4],[]):u(),!0}function _(){switch(n.getToken()){case 3:return s();case 1:return t();case 10:return o(!0);default:return c()}}return u(),n.getToken()===17?j.allowEmptyContent?!0:(p(4,[],[]),!1):_()?(n.getToken()!==17&&p(9,[],[]),!0):(p(4,[],[]),!1)}var Je=Ke;const Pe=typeof self<"u"&&typeof self.WorkerGlobalScope<"u"||typeof window<"u"&&typeof window.document<"u"&&typeof fetch<"u";let Ye="",Te=null;async function Qe(){if(!Te){let h;if(Pe)h=Le.exports.loadWASM({data:await fetch(Ae("dist/onig.wasm")).then(b=>b.arrayBuffer())});else{const j=require("path").join(require.resolve("vscode-oniguruma"),"../onig.wasm"),S=require("fs").readFileSync(j).buffer;h=Le.exports.loadWASM(S)}Te=h.then(()=>({createOnigScanner(b){return Le.exports.createOnigScanner(b)},createOnigString(b){return Le.exports.createOnigString(b)}}))}return Te}function Ae(h){if(Pe)return console.warn("[Shiki] no CDN provider found, use `setCDN()` to specify the CDN for loading the resources before calling `getHighlighter()`"),`${Ye}${h}`;{const b=require("path");return b.isAbsolute(h)?h:b.resolve(__dirname,"..",h)}}async function Ze(h){const b=Ae(h);return Pe?await fetch(b).then(j=>j.text()):await require("fs").promises.readFile(b,"utf-8")}async function Re(h){const b=[],j=Je(await Ze(h),b,{allowTrailingComma:!0});if(b.length)throw b[0];return j}async function Ie(h){let b=await Re(h);const j=Oe(b);if(j.include){const n=await Ie(ze(qe(h),j.include));n.settings&&(j.settings=n.settings.concat(j.settings)),n.bg&&!j.bg&&(j.bg=n.bg),n.colors&&(j.colors=Object.assign(Object.assign({},n.colors),j.colors)),delete j.include}return j}async function et(h){return await Re(h)}function tt(h){h.settings||(h.settings=[]),!(h.settings[0]&&h.settings[0].settings&&!h.settings[0].scope)&&h.settings.unshift({settings:{foreground:h.fg,background:h.bg}})}function Oe(h){const b=h.type||"dark",j=Object.assign(Object.assign({name:h.name,type:b},h),nt(h));return h.include&&(j.include=h.include),h.tokenColors&&(j.settings=h.tokenColors,delete j.tokenColors),tt(j),j}const Ee={light:"#333333",dark:"#bbbbbb"},Me={light:"#fffffe",dark:"#1e1e1e"};function nt(h){var b,j,n,S,k,y;let E,N,r=h.settings?h.settings:h.tokenColors;const d=r?r.find(L=>!L.name&&!L.scope):void 0;return!((b=d==null?void 0:d.settings)===null||b===void 0)&&b.foreground&&(E=d.settings.foreground),!((j=d==null?void 0:d.settings)===null||j===void 0)&&j.background&&(N=d.settings.background),!E&&((S=(n=h)===null||n===void 0?void 0:n.colors)===null||S===void 0?void 0:S["editor.foreground"])&&(E=h.colors["editor.foreground"]),!N&&((y=(k=h)===null||k===void 0?void 0:k.colors)===null||y===void 0?void 0:y["editor.background"])&&(N=h.colors["editor.background"]),E||(E=h.type==="light"?Ee.light:Ee.dark),N||(N=h.type==="light"?Me.light:Me.dark),{fg:E,bg:N}}class rt{constructor(b,j){this.languagesPath="languages/",this.languageMap={},this.scopeToLangMap={},this._onigLibPromise=b,this._onigLibName=j}get onigLib(){return this._onigLibPromise}getOnigLibName(){return this._onigLibName}getLangRegistration(b){return this.languageMap[b]}async loadGrammar(b){const j=this.scopeToLangMap[b];if(!j)return null;if(j.grammar)return j.grammar;const n=await et(Se.includes(j)?`${this.languagesPath}${j.path}`:j.path);return j.grammar=n,n}addLanguage(b){this.languageMap[b.id]=b,b.aliases&&b.aliases.forEach(j=>{this.languageMap[j]=b}),this.scopeToLangMap[b.scopeName]=b}}function st(h,b,j,n,S){let k=j.split(/\r\n|\r|\n/),y=Ce.exports.INITIAL,E=[],N=[];for(let r=0,d=k.length;r<d;r++){let L=k[r];if(L===""){E=[],N.push([]);continue}let w,i,T;S.includeExplanation&&(w=n.tokenizeLine(L,y),i=w.tokens,T=0);let g=n.tokenizeLine2(L,y),l=g.tokens.length/2;for(let u=0;u<l;u++){let p=g.tokens[2*u],o=u+1<l?g.tokens[2*u+2]:L.length;if(p===o)continue;let c=g.tokens[2*u+1],e=ue.getForeground(c),t=b[e],s=ue.getFontStyle(c),_=[];if(S.includeExplanation){let v=0;for(;p+v<o;){let P=i[T],A=L.substring(P.startIndex,P.endIndex);v+=A.length,_.push({content:A,scopes:at(h,P.scopes)}),T++}}E.push({content:L.substring(p,o),color:t,fontStyle:s,explanation:_})}N.push(E),E=[],y=g.ruleStack}return N}function at(h,b){let j=[];for(let n=0,S=b.length;n<S;n++){let k=b.slice(0,n),y=b[n];j[n]={scopeName:y,themeMatches:it(h,y,k)}}return j}function De(h,b){let j=h+".";return h===b||b.substring(0,j.length)===j}function ot(h,b,j,n){if(!De(h,j))return!1;let S=b.length-1,k=n.length-1;for(;S>=0&&k>=0;)De(b[S],n[k])&&S--,k--;return S===-1}function it(h,b,j){let n=[],S=0;for(let k=0,y=h.settings.length;k<y;k++){let E=h.settings[k],N;if(typeof E.scope=="string")N=E.scope.split(/,/).map(r=>r.trim());else if(Array.isArray(E.scope))N=E.scope;else continue;for(let r=0,d=N.length;r<d;r++){let w=N[r].split(/ /),i=w[w.length-1],T=w.slice(0,w.length-1);ot(i,T,b,j)&&(n[S++]=E,r=d)}}return n}function ct(h,b={}){var j;const n=b.bg||"#fff",S=He((j=b.lineOptions)!==null&&j!==void 0?j:[],y=>y.line);let k="";return k+=`<pre class="shiki" style="background-color: ${n}">`,b.langId&&(k+=`<div class="language-id">${b.langId}</div>`),k+="<code>",h.forEach((y,E)=>{var N;const r=E+1,d=(N=S.get(r))!==null&&N!==void 0?N:[];k+=`<span class="${pt(d).join(" ")}">`,y.forEach(w=>{const i=[`color: ${w.color||b.fg}`];w.fontStyle&ge.Italic&&i.push("font-style: italic"),w.fontStyle&ge.Bold&&i.push("font-weight: bold"),w.fontStyle&ge.Underline&&i.push("text-decoration: underline"),k+=`<span style="${i.join("; ")}">${lt(w.content)}</span>`}),k+=`</span>
`}),k=k.replace(/\n*$/,""),k+="</code></pre>",k}const ut={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function lt(h){return h.replace(/[&<>"']/g,b=>ut[b])}function pt(h){var b;const j=new Set(["line"]);for(const n of h)for(const S of(b=n.classes)!==null&&b!==void 0?b:[])j.add(S);return Array.from(j)}class ht extends Ce.exports.Registry{constructor(b){super(b),this._resolver=b,this.themesPath="themes/",this._resolvedThemes={},this._resolvedGrammars={}}getTheme(b){return typeof b=="string"?this._resolvedThemes[b]:b}async loadTheme(b){return typeof b=="string"?(this._resolvedThemes[b]||(this._resolvedThemes[b]=await Ie(`${this.themesPath}${b}.json`)),this._resolvedThemes[b]):(b=Oe(b),b.name&&(this._resolvedThemes[b.name]=b),b)}async loadThemes(b){return await Promise.all(b.map(j=>this.loadTheme(j)))}getLoadedThemes(){return Object.keys(this._resolvedThemes)}getGrammar(b){return this._resolvedGrammars[b]}async loadLanguage(b){const j=await this.loadGrammar(b.scopeName);this._resolvedGrammars[b.id]=j,b.aliases&&b.aliases.forEach(n=>{this._resolvedGrammars[n]=j})}async loadLanguages(b){for(const j of b)this._resolver.addLanguage(j);for(const j of b)await this.loadLanguage(j)}getLoadedLanguages(){return Object.keys(this._resolvedGrammars)}}function Ge(h){return typeof h=="string"?Se.find(b=>{var j;return b.id===h||((j=b.aliases)===null||j===void 0?void 0:j.includes(h))}):h}function ft(h){var b;let j=Se,n=h.themes||[];return!((b=h.langs)===null||b===void 0)&&b.length&&(j=h.langs.map(Ge)),h.theme&&n.unshift(h.theme),n.length||(n=["nord"]),{_languages:j,_themes:n}}async function dt(h){var b,j;const{_languages:n,_themes:S}=ft(h),k=new rt(Qe(),"vscode-oniguruma"),y=new ht(k);!((b=h.paths)===null||b===void 0)&&b.themes&&(y.themesPath=h.paths.themes),!((j=h.paths)===null||j===void 0)&&j.languages&&(k.languagesPath=h.paths.languages);const N=(await y.loadThemes(S))[0];let r;await y.loadLanguages(n);const d={"#000001":"var(--shiki-color-text)","#000002":"var(--shiki-color-background)","#000004":"var(--shiki-token-constant)","#000005":"var(--shiki-token-string)","#000006":"var(--shiki-token-comment)","#000007":"var(--shiki-token-keyword)","#000008":"var(--shiki-token-parameter)","#000009":"var(--shiki-token-function)","#000010":"var(--shiki-token-string-expression)","#000011":"var(--shiki-token-punctuation)","#000012":"var(--shiki-token-link)"};function L(t,s){t.bg=d[t.bg]||t.bg,t.fg=d[t.fg]||t.fg,s.forEach((_,v)=>{s[v]=d[_]||_})}function w(t){const s=t?y.getTheme(t):N;if(!s)throw Error(`No theme registration for ${t}`);(!r||r.name!==s.name)&&(y.setTheme(s),r=s);const _=y.getColorMap();return s.name==="css-variables"&&L(s,_),{_theme:s,_colorMap:_}}function i(t){const s=y.getGrammar(t);if(!s)throw Error(`No language registration for ${t}`);return{_grammar:s}}function T(t,s="text",_,v={includeExplanation:!0}){if(gt(s))return[...t.split(/\r\n|\r|\n/).map(H=>[{content:H}])];const{_grammar:P}=i(s),{_theme:A,_colorMap:I}=w(_);return st(A,I,t,P,v)}function g(t,s="text",_){let v;typeof s=="object"?v=s:v={lang:s,theme:_};const P=T(t,v.lang,v.theme,{includeExplanation:!1}),{_theme:A}=w(v.theme);return ct(P,{fg:A.fg,bg:A.bg,lineOptions:v==null?void 0:v.lineOptions})}async function l(t){await y.loadTheme(t)}async function u(t){const s=Ge(t);k.addLanguage(s),await y.loadLanguage(s)}function p(){return y.getLoadedThemes()}function o(){return y.getLoadedLanguages()}function c(t){const{_theme:s}=w(t);return s.bg}function e(t){const{_theme:s}=w(t);return s.fg}return{codeToThemedTokens:T,codeToHtml:g,getTheme:t=>w(t)._theme,loadTheme:l,loadLanguage:u,getBackgroundColor:c,getForegroundColor:e,getLoadedThemes:p,getLoadedLanguages:o}}function gt(h){return!h||["plaintext","txt","text"].includes(h)}dt({theme:"nord"}).then(h=>{console.log(h.codeToHtml("console.log('shiki');",{lang:"js"}))})});
